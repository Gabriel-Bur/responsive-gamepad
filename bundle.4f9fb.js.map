{"version":3,"sources":["webpack:///bundle.4f9fb.js","webpack:///webpack/bootstrap 905fee8e993a53e304ff","webpack:///./node_modules/preact/dist/preact.min.js","webpack:///./dist/responsive-gamepad.esm.js","webpack:///./index.js","webpack:///./node_modules/preact-cli/lib/lib/entry.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","EBst","e","t","r","M","arguments","length","T","push","children","pop","a","S","nodeName","attributes","key","L","vnode","slice","__d","D","debounceRendering","P","C","splitText","_componentConstructor","__n","toLowerCase","defaultProps","document","createElementNS","createElement","parentNode","removeChild","u","style","cssText","W","test","innerHTML","__html","replace","substring","addEventListener","removeEventListener","__l","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","className","this","type","event","_","E","afterMount","componentDidMount","V","A","ownerSVGElement","H","f","appendChild","_component","nodeValue","createTextNode","replaceChild","__preactattr_","x","firstChild","value","nextSibling","h","dangerouslySetInnerHTML","b","childNodes","v","y","g","w","N","k","__k","trim","insertBefore","ref","lastChild","previousSibling","B","render","constructor","__b","splice","__x","__r","getDerivedStateFromProps","base","componentWillMount","componentWillReceiveProps","context","__c","__p","props","syncComponentUpdates","state","__s","U","shouldComponentUpdate","componentWillUpdate","getChildContext","getSnapshotBeforeUpdate","__u","unshift","componentDidUpdate","afterUpdate","__h","beforeUnmount","componentWillUnmount","Promise","resolve","then","bind","setTimeout","setState","forceUpdate","F","cloneElement","Component","rerender","options","FWi5","JkW7","__webpack_exports__","getInputId","idGenerator","Math","random","toString","substr","getKeyInput","keyCode","input","_extends","keyInputSchema","ID","KEY_CODE","getGamepadInput","gamepadButtonId","axisId","axisIsPositive","gamepadInputSchema","JOYSTICK","BUTTON_ID","undefined","AXIS_ID","IS_POSITIVE","createTouchInput","element","inputType","updateTouchInputRect","updateTouchInput","keyMap","analogMaps","additionalArguments","keys","touchInputTypes","includes","touchInput","touchInputSchema","ELEMENT","TYPE","updateRectHandler","eventListenerCallback","window","UNLISTEN","BUTTON","TOUCHPAD","DPAD","forEach","direction","directionalTouchInput","DIRECTION","ANALOG","TOUCH_INPUT","mergeInputs","baseKey","originalArguments","concat","Array","extraArguments","toConsumableArray","mergedKey","KEYBOARD","GAMEPAD","isIgnoringKeyEvents","INPUT_HTML_TAGS","some","htmlTag","activeElement","tagName","updateKeyboard","keyEvent","_this","enabled","target","isPressed","keyMapKeys","keyInput","index","ACTIVE","preventDefault","isButtonPressed","gamepad","buttonId","buttons","pressed","getGamepads","navigator","getAnalogStickAxis","axes","analogBooleanToAxis","positive","negative","updateGamepad","gamepads","gamepadInput","gamepadAnalogStickDeadZone","resetTouchDpad","dpadKeys","dpadKey","findDpadTouchInput","id","foundTouchInput","resetTouchAnalog","analogMap","transform","BOUNDING_RECT","getBoundingClientRect","touches","MOUSEDOWN","touch","rectCenterX","right","left","rectCenterY","bottom","top","touchX","clientX","touchY","clientY","width","horizontalInfluence","isHorizontal","abs","deadzoneSize","isLeft","isUp","height","horizontalDifferenceFromCenter","horizontalAxis","verticalDifferenceFromCenter","verticalAxis","translateX","translateY","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","writable","setPrototypeOf","__proto__","_Key","preact_min","assign","source","createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","obj","arr","isArray","arr2","from","EVENT_HANDLER","responsiveGamepadKeys","DPAD_UP","DPAD_RIGHT","DPAD_DOWN","DPAD_LEFT","LEFT_ANALOG_UP","LEFT_ANALOG_RIGHT","LEFT_ANALOG_DOWN","LEFT_ANALOG_LEFT","RIGHT_ANALOG_UP","RIGHT_ANALOG_RIGHT","RIGHT_ANALOG_DOWN","RIGHT_ANALOG_LEFT","X","Y","LEFT_TRIGGER","LEFT_BUMPER","RIGHT_TRIGGER","RIGHT_BUMPER","SELECT","START","SPECIAL","RESPONSIVE_GAMEPAD_KEYS","Key","BACKSPACE","TAB","RETURN","SHIFT","CTRL","ALT","ESCAPE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","META","ARROW_LEFT","ARROW_UP","ARROW_RIGHT","ARROW_DOWN","Q","Z","I","K","J","responsive_gamepad_esm_keymap","keyMapSchema","NUMPAD_8","NUMPAD_6","NUMPAD_5","NUMPAD_2","NUMPAD_4","SEMI_COLON","NUMPAD_7","SINGLE_QUOTE","NUMPAD_9","O","NUMPAD_3","BACK_SLASH","NUMPAD_1","KEYMAP","JSON","parse","stringify","keymap$1","KEYMAP$1","ResponsiveGamepadService","keyEventUnlistener","console","error","updateKeyboardHandler","keyMapKey","analogMapsKey","touchInputId","_this2","foundId","_this3","controllerState","touchState","analogMapKey","stateValue","LEFT_ANALOG_HORIZONTAL_AXIS","LEFT_ANALOG_VERTICAL_AXIS","RIGHT_ANALOG_HORIZONTAL_AXIS","RIGHT_ANALOG_VERTICAL_AXIS","UP","RIGHT","DOWN","LEFT","ResponsiveGamepad","index_App","index__extends","_ref","_ref2","class","href","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","viewBox","xmlns","cx","cy","_ref19","fill","_ref20","_ref21","_ref22","_ref23","_Component","App","enableGamepad","requestAnimationFrame","displayGamepadState","getElementById","gamepadState","getState","keymap","enable","dpadElement","analogStickElement","startElement","aElement","bElement","addTouchInput","touchSelectId","toggleTouchSelectInput","enableGameboyKeymap","disableGamepad","disable","toggleResponsiveGamepad","isEnabled","removeTouchInput","selectElement","_this4","onClick","disabled","log","uXl7","_preact","location","protocol","serviceWorker","register","interopDefault","default","root","body","firstElementChild","init","app"],"mappings":"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","file":"bundle.4f9fb.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/responsive-gamepad/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"uXl7\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"EBst\":\n/***/ (function(module, exports, __webpack_require__) {\n\n!function () {\n  \"use strict\";\n  function e(e, t) {\n    var n,\n        o,\n        r,\n        i,\n        l = M;for (i = arguments.length; i-- > 2;) {\n      T.push(arguments[i]);\n    }t && null != t.children && (T.length || T.push(t.children), delete t.children);while (T.length) {\n      if ((o = T.pop()) && void 0 !== o.pop) for (i = o.length; i--;) {\n        T.push(o[i]);\n      } else \"boolean\" == typeof o && (o = null), (r = \"function\" != typeof e) && (null == o ? o = \"\" : \"number\" == typeof o ? o += \"\" : \"string\" != typeof o && (r = !1)), r && n ? l[l.length - 1] += o : l === M ? l = [o] : l.push(o), n = r;\n    }var a = new S();return a.nodeName = e, a.children = l, a.attributes = null == t ? void 0 : t, a.key = null == t ? void 0 : t.key, void 0 !== L.vnode && L.vnode(a), a;\n  }function t(e, t) {\n    for (var n in t) {\n      e[n] = t[n];\n    }return e;\n  }function n(n, o) {\n    return e(n.nodeName, t(t({}, n.attributes), o), arguments.length > 2 ? [].slice.call(arguments, 2) : n.children);\n  }function o(e) {\n    !e.__d && (e.__d = !0) && 1 == D.push(e) && (L.debounceRendering || P)(r);\n  }function r() {\n    var e,\n        t = D;D = [];while (e = t.pop()) {\n      e.__d && C(e);\n    }\n  }function i(e, t, n) {\n    return \"string\" == typeof t || \"number\" == typeof t ? void 0 !== e.splitText : \"string\" == typeof t.nodeName ? !e._componentConstructor && l(e, t.nodeName) : n || e._componentConstructor === t.nodeName;\n  }function l(e, t) {\n    return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase();\n  }function a(e) {\n    var n = t({}, e.attributes);n.children = e.children;var o = e.nodeName.defaultProps;if (void 0 !== o) for (var r in o) {\n      void 0 === n[r] && (n[r] = o[r]);\n    }return n;\n  }function p(e, t) {\n    var n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", e) : document.createElement(e);return n.__n = e, n;\n  }function s(e) {\n    var t = e.parentNode;t && t.removeChild(e);\n  }function u(e, t, n, o, r) {\n    if (\"className\" === t && (t = \"class\"), \"key\" === t) ;else if (\"ref\" === t) n && n(null), o && o(e);else if (\"class\" !== t || r) {\n      if (\"style\" === t) {\n        if (o && \"string\" != typeof o && \"string\" != typeof n || (e.style.cssText = o || \"\"), o && \"object\" == typeof o) {\n          if (\"string\" != typeof n) for (var i in n) {\n            i in o || (e.style[i] = \"\");\n          }for (var i in o) {\n            e.style[i] = \"number\" == typeof o[i] && !1 === W.test(i) ? o[i] + \"px\" : o[i];\n          }\n        }\n      } else if (\"dangerouslySetInnerHTML\" === t) o && (e.innerHTML = o.__html || \"\");else if (\"o\" == t[0] && \"n\" == t[1]) {\n        var l = t !== (t = t.replace(/Capture$/, \"\"));t = t.toLowerCase().substring(2), o ? n || e.addEventListener(t, c, l) : e.removeEventListener(t, c, l), (e.__l || (e.__l = {}))[t] = o;\n      } else if (\"list\" !== t && \"type\" !== t && !r && t in e) {\n        try {\n          e[t] = null == o ? \"\" : o;\n        } catch (e) {}null != o && !1 !== o || \"spellcheck\" == t || e.removeAttribute(t);\n      } else {\n        var a = r && t !== (t = t.replace(/^xlink:?/, \"\"));null == o || !1 === o ? a ? e.removeAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase()) : e.removeAttribute(t) : \"function\" != typeof o && (a ? e.setAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase(), o) : e.setAttribute(t, o));\n      }\n    } else e.className = o || \"\";\n  }function c(e) {\n    return this.__l[e.type](L.event && L.event(e) || e);\n  }function _() {\n    var e;while (e = E.pop()) {\n      L.afterMount && L.afterMount(e), e.componentDidMount && e.componentDidMount();\n    }\n  }function d(e, t, n, o, r, i) {\n    V++ || (A = null != r && void 0 !== r.ownerSVGElement, H = null != e && !(\"__preactattr_\" in e));var l = f(e, t, n, o, i);return r && l.parentNode !== r && r.appendChild(l), --V || (H = !1, i || _()), l;\n  }function f(e, t, n, o, r) {\n    var i = e,\n        a = A;if (null != t && \"boolean\" != typeof t || (t = \"\"), \"string\" == typeof t || \"number\" == typeof t) return e && void 0 !== e.splitText && e.parentNode && (!e._component || r) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(i, e), m(e, !0))), i.__preactattr_ = !0, i;var s = t.nodeName;if (\"function\" == typeof s) return x(e, t, n, o);if (A = \"svg\" === s || \"foreignObject\" !== s && A, s += \"\", (!e || !l(e, s)) && (i = p(s, A), e)) {\n      while (e.firstChild) {\n        i.appendChild(e.firstChild);\n      }e.parentNode && e.parentNode.replaceChild(i, e), m(e, !0);\n    }var u = i.firstChild,\n        c = i.__preactattr_,\n        _ = t.children;if (null == c) {\n      c = i.__preactattr_ = {};for (var d = i.attributes, f = d.length; f--;) {\n        c[d[f].name] = d[f].value;\n      }\n    }return !H && _ && 1 === _.length && \"string\" == typeof _[0] && null != u && void 0 !== u.splitText && null == u.nextSibling ? u.nodeValue != _[0] && (u.nodeValue = _[0]) : (_ && _.length || null != u) && h(i, _, n, o, H || null != c.dangerouslySetInnerHTML), b(i, t.attributes, c), A = a, i;\n  }function h(e, t, n, o, r) {\n    var l,\n        a,\n        p,\n        u,\n        c,\n        _ = e.childNodes,\n        d = [],\n        h = {},\n        v = 0,\n        b = 0,\n        y = _.length,\n        g = 0,\n        w = t ? t.length : 0;if (0 !== y) for (var C = 0; C < y; C++) {\n      var x = _[C],\n          N = x.__preactattr_,\n          k = w && N ? x._component ? x._component.__k : N.key : null;null != k ? (v++, h[k] = x) : (N || (void 0 !== x.splitText ? !r || x.nodeValue.trim() : r)) && (d[g++] = x);\n    }if (0 !== w) for (var C = 0; C < w; C++) {\n      u = t[C], c = null;var k = u.key;if (null != k) v && void 0 !== h[k] && (c = h[k], h[k] = void 0, v--);else if (b < g) for (l = b; l < g; l++) {\n        if (void 0 !== d[l] && i(a = d[l], u, r)) {\n          c = a, d[l] = void 0, l === g - 1 && g--, l === b && b++;break;\n        }\n      }c = f(c, u, n, o), p = _[C], c && c !== e && c !== p && (null == p ? e.appendChild(c) : c === p.nextSibling ? s(p) : e.insertBefore(c, p));\n    }if (v) for (var C in h) {\n      void 0 !== h[C] && m(h[C], !1);\n    }while (b <= g) {\n      void 0 !== (c = d[g--]) && m(c, !1);\n    }\n  }function m(e, t) {\n    var n = e._component;n ? N(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), !1 !== t && null != e.__preactattr_ || s(e), v(e));\n  }function v(e) {\n    e = e.lastChild;while (e) {\n      var t = e.previousSibling;m(e, !0), e = t;\n    }\n  }function b(e, t, n) {\n    var o;for (o in n) {\n      t && null != t[o] || null == n[o] || u(e, o, n[o], n[o] = void 0, A);\n    }for (o in t) {\n      \"children\" === o || \"innerHTML\" === o || o in n && t[o] === (\"value\" === o || \"checked\" === o ? e[o] : n[o]) || u(e, o, n[o], n[o] = t[o], A);\n    }\n  }function y(e, t, n) {\n    var o,\n        r = B.length;e.prototype && e.prototype.render ? (o = new e(t, n), k.call(o, t, n)) : (o = new k(t, n), o.constructor = e, o.render = g);while (r--) {\n      if (B[r].constructor === e) return o.__b = B[r].__b, B.splice(r, 1), o;\n    }return o;\n  }function g(e, t, n) {\n    return this.constructor(e, n);\n  }function w(e, t, n, r, i) {\n    e.__x || (e.__x = !0, e.__r = t.ref, e.__k = t.key, delete t.ref, delete t.key, void 0 === e.constructor.getDerivedStateFromProps && (!e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, r)), r && r !== e.context && (e.__c || (e.__c = e.context), e.context = r), e.__p || (e.__p = e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === L.syncComponentUpdates && e.base ? o(e) : C(e, 1, i)), e.__r && e.__r(e));\n  }function C(e, n, o, r) {\n    if (!e.__x) {\n      var i,\n          l,\n          p,\n          s = e.props,\n          u = e.state,\n          c = e.context,\n          f = e.__p || s,\n          h = e.__s || u,\n          v = e.__c || c,\n          b = e.base,\n          g = e.__b,\n          x = b || g,\n          k = e._component,\n          U = !1,\n          S = v;if (e.constructor.getDerivedStateFromProps && (u = t(t({}, u), e.constructor.getDerivedStateFromProps(s, u)), e.state = u), b && (e.props = f, e.state = h, e.context = v, 2 !== n && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(s, u, c) ? U = !0 : e.componentWillUpdate && e.componentWillUpdate(s, u, c), e.props = s, e.state = u, e.context = c), e.__p = e.__s = e.__c = e.__b = null, e.__d = !1, !U) {\n        i = e.render(s, u, c), e.getChildContext && (c = t(t({}, c), e.getChildContext())), b && e.getSnapshotBeforeUpdate && (S = e.getSnapshotBeforeUpdate(f, h));var T,\n            M,\n            P = i && i.nodeName;if (\"function\" == typeof P) {\n          var W = a(i);l = k, l && l.constructor === P && W.key == l.__k ? w(l, W, 1, c, !1) : (T = l, e._component = l = y(P, W, c), l.__b = l.__b || g, l.__u = e, w(l, W, 0, c, !1), C(l, 1, o, !0)), M = l.base;\n        } else p = x, T = k, T && (p = e._component = null), (x || 1 === n) && (p && (p._component = null), M = d(p, i, c, o || !b, x && x.parentNode, !0));if (x && M !== x && l !== k) {\n          var D = x.parentNode;D && M !== D && (D.replaceChild(M, x), T || (x._component = null, m(x, !1)));\n        }if (T && N(T), e.base = M, M && !r) {\n          var A = e,\n              H = e;while (H = H.__u) {\n            (A = H).base = M;\n          }M._component = A, M._componentConstructor = A.constructor;\n        }\n      }!b || o ? E.unshift(e) : U || (e.componentDidUpdate && e.componentDidUpdate(f, h, S), L.afterUpdate && L.afterUpdate(e));while (e.__h.length) {\n        e.__h.pop().call(e);\n      }V || r || _();\n    }\n  }function x(e, t, n, o) {\n    var r = e && e._component,\n        i = r,\n        l = e,\n        p = r && e._componentConstructor === t.nodeName,\n        s = p,\n        u = a(t);while (r && !s && (r = r.__u)) {\n      s = r.constructor === t.nodeName;\n    }return r && s && (!o || r._component) ? (w(r, u, 3, n, o), e = r.base) : (i && !p && (N(i), e = l = null), r = y(t.nodeName, u, n), e && !r.__b && (r.__b = e, l = null), w(r, u, 1, n, o), e = r.base, l && e !== l && (l._component = null, m(l, !1))), e;\n  }function N(e) {\n    L.beforeUnmount && L.beforeUnmount(e);var t = e.base;e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;var n = e._component;n ? N(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), e.__b = t, s(t), B.push(e), v(t)), e.__r && e.__r(null);\n  }function k(e, t) {\n    this.__d = !0, this.context = t, this.props = e, this.state = this.state || {}, this.__h = [];\n  }function U(e, t, n) {\n    return d(n, e, {}, !1, t, !1);\n  }var S = function S() {},\n      L = {},\n      T = [],\n      M = [],\n      P = \"function\" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout,\n      W = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,\n      D = [],\n      E = [],\n      V = 0,\n      A = !1,\n      H = !1,\n      B = [];t(k.prototype, { setState: function setState(e, n) {\n      this.__s || (this.__s = this.state), this.state = t(t({}, this.state), \"function\" == typeof e ? e(this.state, this.props) : e), n && this.__h.push(n), o(this);\n    }, forceUpdate: function forceUpdate(e) {\n      e && this.__h.push(e), C(this, 2);\n    }, render: function render() {} });var F = { h: e, createElement: e, cloneElement: n, Component: k, render: U, rerender: r, options: L }; true ? module.exports = F : self.preact = F;\n}();\n//# sourceMappingURL=preact.min.js.map\n\n/***/ }),\n\n/***/ \"FWi5\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"JkW7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"EBst\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./style.css\nvar style = __webpack_require__(\"FWi5\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// CONCATENATED MODULE: ./dist/responsive-gamepad.esm.js\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar toConsumableArray = function toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n// Define a keyboard key schema\nvar keyInputSchema = {\n  ID: undefined,\n  ACTIVE: false,\n  KEY_CODE: undefined\n\n  // Define a gamepad button schema\n  // https://w3c.github.io/gamepad/#remapping\n};var gamepadInputSchema = {\n  ID: undefined,\n  ACTIVE: false,\n  BUTTON_ID: undefined,\n  JOYSTICK: {\n    AXIS_ID: undefined,\n    IS_POSITIVE: undefined\n  }\n};\n\nvar touchInputSchema = {\n  ID: undefined,\n  ACTIVE: false,\n  ELEMENT: undefined,\n  TYPE: undefined,\n  DIRECTION: undefined,\n  EVENT_HANDLER: undefined,\n  BOUNDING_RECT: undefined\n};\n\nvar touchInputTypes = {\n  BUTTON: \"BUTTON\",\n  DPAD: \"DPAD\",\n  ANALOG: \"ANALOG\"\n};\n\n// Define our keymap keys\nvar responsiveGamepadKeys = {\n  DPAD_UP: 'DPAD_UP',\n  DPAD_RIGHT: 'DPAD_RIGHT',\n  DPAD_DOWN: 'DPAD_DOWN',\n  DPAD_LEFT: 'DPAD_LEFT',\n  LEFT_ANALOG_UP: 'LEFT_ANALOG_UP',\n  LEFT_ANALOG_RIGHT: 'LEFT_ANALOG_RIGHT',\n  LEFT_ANALOG_DOWN: 'LEFT_ANALOG_DOWN',\n  LEFT_ANALOG_LEFT: 'LEFT_ANALOG_LEFT',\n  RIGHT_ANALOG_UP: 'RIGHT_ANALOG_UP',\n  RIGHT_ANALOG_RIGHT: 'RIGHT_ANALOG_RIGHT',\n  RIGHT_ANALOG_DOWN: 'RIGHT_ANALOG_DOWN',\n  RIGHT_ANALOG_LEFT: 'RIGHT_ANALOG_LEFT',\n  A: 'A',\n  B: 'B',\n  X: 'X',\n  Y: 'Y',\n  LEFT_TRIGGER: 'LEFT_TRIGGER',\n  LEFT_BUMPER: 'LEFT_BUMPER',\n  RIGHT_TRIGGER: 'RIGHT_TRIGGER',\n  RIGHT_BUMPER: 'RIGHT_BUMPER',\n  SELECT: 'SELECT',\n  START: 'START',\n  SPECIAL: 'SPECIAL'\n\n  // Define our keymap schema generator\n};function KeyMapSchema() {\n  var keyMapSchema = {};\n  Object.keys(responsiveGamepadKeys).forEach(function (key) {\n    keyMapSchema[key] = {\n      KEYBOARD: [],\n      GAMEPAD: [],\n      TOUCHPAD: []\n    };\n  });\n  return keyMapSchema;\n}\n\n// Function to return an ID for our input\n// https://stackoverflow.com/questions/6860853/generate-random-string-for-div-id\nfunction getInputId() {\n\n  var idGenerator = function idGenerator() {\n    return Math.random().toString(36).replace(/[^a-z]+/g, '').substr(2, 10);\n  };\n\n  var stringId = \"\" + idGenerator() + idGenerator();\n  return stringId.slice();\n}\n\nfunction getKeyInput(keyCode) {\n  var input = _extends({}, keyInputSchema);\n  input.ID = getInputId();\n  input.KEY_CODE = keyCode;\n  return input;\n}\n\nfunction getGamepadInput(gamepadButtonId, axisId, axisIsPositive) {\n  var input = _extends({}, gamepadInputSchema);\n  input.ID = getInputId();\n  input.JOYSTICK = _extends({}, gamepadInputSchema.JOYSTICK);\n  if (gamepadButtonId || gamepadButtonId === 0) {\n    input.BUTTON_ID = gamepadButtonId;\n  } else if (axisId !== undefined && axisIsPositive !== undefined) {\n    input.JOYSTICK.AXIS_ID = axisId;\n    input.JOYSTICK.IS_POSITIVE = axisIsPositive;\n  }\n  return input;\n}\n\nfunction createTouchInput(element, inputType, updateTouchInputRect, updateTouchInput, keyMap, analogMaps, additionalArguments) {\n\n  if (!Object.keys(touchInputTypes).includes(inputType)) {\n    return false;\n  }\n\n  // Create our basic touch input attributes\n  var touchInput = _extends({}, touchInputSchema);\n  touchInput.ID = getInputId();\n  touchInput.ELEMENT = element;\n  touchInput.TYPE = inputType;\n\n  // Add our bounding rect\n  var updateRectHandler = updateTouchInputRect.bind(null, touchInput);\n  updateRectHandler();\n\n  // Define our eventListener functions\n  var eventListenerCallback = function eventListenerCallback(event) {\n    updateTouchInput(touchInput, keyMap, analogMaps[touchInput.ID], additionalArguments, event);\n  };\n\n  // Add event listeners to the element\n  window.addEventListener(\"resize\", updateRectHandler);\n  touchInput.ELEMENT.addEventListener(\"touchstart\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"touchmove\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"touchend\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"mousedown\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"mousemove\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"mouseup\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"mouseleave\", eventListenerCallback);\n\n  // Create a dispose function on the touch input\n  touchInput.UNLISTEN = function () {\n    window.removeEventListener(\"resize\", updateRectHandler);\n    touchInput.ELEMENT.removeEventListener(\"touchstart\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"touchmove\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"touchend\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"mousedown\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"mousemove\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"mouseup\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"mouseleave\", eventListenerCallback);\n  };\n\n  // Add the touch input to the appropriate keymap\n  if (inputType === touchInputTypes.BUTTON) {\n    // Add the button to the additional keyMapKey argument\n    keyMap[additionalArguments[0]].TOUCHPAD.push(touchInput);\n  } else if (inputType === touchInputTypes.DPAD) {\n    // Spread the touch input over the DPAD_X inputs\n    ['UP', 'RIGHT', 'DOWN', 'LEFT'].forEach(function (direction) {\n      var directionalTouchInput = _extends({}, touchInput);\n      directionalTouchInput.DIRECTION = direction;\n      keyMap[\"DPAD_\" + direction].TOUCHPAD.push(directionalTouchInput);\n    });\n  } else if (inputType === touchInputTypes.ANALOG) {\n    // Since we are axes, and not on/off handled in updateTouchpad\n    analogMaps[touchInput.ID] = {\n      TOUCH_INPUT: touchInput\n    };\n  }\n\n  return touchInput.ID;\n}\n\n// Helper function for creating new gamepads\nfunction mergeInputs(baseKey) {\n\n  // Get our extra arguments\n  var originalArguments = [].concat(Array.prototype.slice.call(arguments));\n  var extraArguments = [].concat(toConsumableArray(originalArguments.slice(1)));\n\n  // Create our new merged key\n  var mergedKey = {\n    KEYBOARD: [].concat(toConsumableArray(baseKey.KEYBOARD)),\n    GAMEPAD: [].concat(toConsumableArray(baseKey.GAMEPAD)),\n    TOUCHPAD: [].concat(toConsumableArray(baseKey.TOUCHPAD))\n  };\n\n  extraArguments.forEach(function (key) {\n    mergedKey = {\n      KEYBOARD: [].concat(toConsumableArray(mergedKey.KEYBOARD), toConsumableArray(key.KEYBOARD)),\n      GAMEPAD: [].concat(toConsumableArray(mergedKey.GAMEPAD), toConsumableArray(key.GAMEPAD)),\n      TOUCHPAD: [].concat(toConsumableArray(mergedKey.TOUCHPAD), toConsumableArray(key.TOUCHPAD))\n    };\n  });\n\n  return mergedKey;\n}\n\nvar RESPONSIVE_GAMEPAD_KEYS = responsiveGamepadKeys;\nvar TOUCH_INPUT_TYPES = touchInputTypes;\n\n// Functions to update keymap state\n// 'this' should be bound by the respective service\n\n// HTML Tags that can be focused on, where the library should be disabled\n// https://www.w3schools.com/tags/ref_byfunc.asp\nvar INPUT_HTML_TAGS = ['input', 'textarea', 'button', 'select', 'option', 'optgroup', 'label', 'datalist'];\n\n// Function to return if we are ignoring input for key events\nfunction isIgnoringKeyEvents() {\n\n  // Checking for window for preact prerender\n  if (typeof window === \"undefined\") {\n    return true;\n  }\n\n  return INPUT_HTML_TAGS.some(function (htmlTag) {\n    if (document.activeElement && document.activeElement.tagName.toLowerCase() === htmlTag.toLowerCase()) {\n      return true;\n    }\n    return false;\n  });\n}\n\n// Function to handle keyboard update events\nfunction updateKeyboard(keyEvent) {\n  var _this = this;\n\n  if (!this.enabled) {\n    return;\n  }\n\n  // Checking for window for preact prerender\n  if (typeof window === \"undefined\") {\n    return;\n  }\n\n  // Ignore the event if focus on a input-table field\n  // https://www.w3schools.com/tags/ref_byfunc.asp\n  if (keyEvent && keyEvent.target && keyEvent.target.tagName) {\n    var isTargetInputField = INPUT_HTML_TAGS.some(function (htmlTag) {\n      if (keyEvent && keyEvent.target.tagName.toLowerCase() === htmlTag.toLowerCase()) {\n        return true;\n      }\n      return false;\n    });\n\n    if (isTargetInputField) {\n      return;\n    }\n  }\n\n  // Get the new state of the key\n  var isPressed = false;\n  if (keyEvent.type === 'keydown') {\n    isPressed = true;\n  }\n\n  // Loop through our keys\n  this.keyMapKeys.forEach(function (key) {\n    _this.keyMap[key].KEYBOARD.forEach(function (keyInput, index) {\n      if (keyInput.KEY_CODE === keyEvent.keyCode) {\n        _this.keyMap[key].KEYBOARD[index].ACTIVE = isPressed;\n      }\n    });\n  });\n\n  // If we found a key, prevent default so page wont scroll and things\n  keyEvent.preventDefault();\n}\n\n// Functions to update keymap state\n// 'this' should be bound by the respective service\n\nfunction isButtonPressed(gamepad, buttonId) {\n  return gamepad.buttons[buttonId] ? gamepad.buttons[buttonId].pressed : false;\n}\n\nfunction getGamepads() {\n  // Similar to: https://github.com/torch2424/picoDeploy/blob/master/src/assets/3pLibs/pico8gamepad/pico8gamepad.js\n  // Gampad Diagram: https://w3c.github.io/gamepad/#remapping\n  return navigator.getGamepads ? navigator.getGamepads() : [];\n}\n\n// Helpers for accessing gamepad\n// Similar to: https://github.com/torch2424/picoDeploy/blob/master/src/assets/3pLibs/pico8gamepad/pico8gamepad.js\nfunction getAnalogStickAxis(gamepad, axisId) {\n  if (gamepad) {\n    return gamepad.axes[axisId] || 0.0;\n  }\n  return 0.0;\n}\n\n// Function to convert a set of analog booleans to an Axis Number\nfunction analogBooleanToAxis(positive, negative) {\n  if (positive) {\n    return 1.0;\n  }\n  if (negative) {\n    return -1.0;\n  }\n  return 0;\n}\n\n// Function to check the gamepad API for the gamepad state\nfunction updateGamepad() {\n  var _this = this;\n\n  var gamepads = getGamepads();\n\n  var _loop = function _loop(i) {\n\n    // Get our current gamepad\n    var gamepad = gamepads[i];\n\n    if (!gamepad) {\n      return \"continue\";\n    }\n\n    // Loop through our keys\n    _this.keyMapKeys.forEach(function (key) {\n      _this.keyMap[key].GAMEPAD.forEach(function (gamepadInput, index) {\n\n        // Check if we are a gamepad button\n        if (_this.keyMap[key].GAMEPAD[index].BUTTON_ID || _this.keyMap[key].GAMEPAD[index].BUTTON_ID === 0) {\n          _this.keyMap[key].GAMEPAD[index].ACTIVE = isButtonPressed(gamepad, _this.keyMap[key].GAMEPAD[index].BUTTON_ID);\n        }\n\n        // Check if we are an axis\n        if (_this.keyMap[key].GAMEPAD[index].JOYSTICK.AXIS_ID !== undefined && _this.keyMap[key].GAMEPAD[index].JOYSTICK.IS_POSITIVE !== undefined) {\n          if (_this.keyMap[key].GAMEPAD[index].JOYSTICK.IS_POSITIVE) {\n            _this.keyMap[key].GAMEPAD[index].ACTIVE = getAnalogStickAxis(gamepad, _this.keyMap[key].GAMEPAD[index].JOYSTICK.AXIS_ID) > +_this.gamepadAnalogStickDeadZone;\n          } else {\n            _this.keyMap[key].GAMEPAD[index].ACTIVE = getAnalogStickAxis(gamepad, _this.keyMap[key].GAMEPAD[index].JOYSTICK.AXIS_ID) < -_this.gamepadAnalogStickDeadZone;\n          }\n        }\n      });\n    });\n  };\n\n  for (var i = 0; i < gamepads.length; i++) {\n    var _ret = _loop(i);\n\n    if (_ret === \"continue\") continue;\n  }\n}\n\n// Functions to update keymap state\n// 'this' should be bound by the respective service\n\nvar dpadKeys = [RESPONSIVE_GAMEPAD_KEYS.DPAD_UP, RESPONSIVE_GAMEPAD_KEYS.DPAD_RIGHT, RESPONSIVE_GAMEPAD_KEYS.DPAD_DOWN, RESPONSIVE_GAMEPAD_KEYS.DPAD_LEFT];\n\n// Reset all Direction keys for a DPAD for touch Inputs\nfunction resetTouchDpad() {\n  var _this = this;\n\n  dpadKeys.forEach(function (dpadKey) {\n    _this.keyMap[dpadKey].TOUCHPAD.forEach(function (touchInput) {\n      touchInput.ACTIVE = false;\n    });\n  });\n}\n\n// Find a Dpad Touch element with Direction and ID\nfunction findDpadTouchInput(keyMap, id, direction) {\n  var foundTouchInput = void 0;\n\n  keyMap['DPAD_' + direction].TOUCHPAD.some(function (touchInput) {\n    if (touchInput.ID === id) {\n      foundTouchInput = touchInput;\n      return true;\n    }\n    return false;\n  });\n\n  return foundTouchInput;\n}\n\n// Function to set the axes of an analog to zero\nfunction resetTouchAnalog(touchInput, analogMap, additionalArguments) {\n  analogMap[additionalArguments[0] + '_ANALOG_HORIZONTAL_AXIS'] = 0.0;\n  analogMap[additionalArguments[0] + '_ANALOG_VERTICAL_AXIS'] = 0.0;\n  analogMap[additionalArguments[0] + '_ANALOG_UP'] = false;\n  analogMap[additionalArguments[0] + '_ANALOG_RIGHT'] = false;\n  analogMap[additionalArguments[0] + '_ANALOG_DOWN'] = false;\n  analogMap[additionalArguments[0] + '_ANALOG_LEFT'] = false;\n\n  touchInput.ELEMENT.style.transform = 'translate(0px, 0px)';\n}\n\n// Function to update touch button position and size\nfunction updateTouchInputRect(touchInput) {\n  // Read from the DOM, and get each of our elements position, doing this here, as it is best to read from the dom in sequence\n  // use element.getBoundingRect() top, bottom, left, right to get clientX and clientY in touch events :)\n  // https://stackoverflow.com/questions/442404/retrieve-the-position-x-y-of-an-html-element\n  var boundingRect = touchInput.ELEMENT.getBoundingClientRect();\n  touchInput.BOUNDING_RECT = boundingRect;\n}\n\n// Function called on an event of a touchInput SVG Element\nfunction updateTouchInput(touchInput, keyMap, analogMap, additionalArguments, event) {\n\n  if (!this.enabled) {\n    return;\n  }\n\n  if (!event || event.type.includes('touch') && !event.touches) return;\n\n  //event.stopPropagation();\n  event.preventDefault();\n\n  // Check if we still have our requirements\n  if (touchInput.TYPE === 'DPAD' && !keyMap || touchInput.TYPE === 'ANALOG' && !analogMap) {\n    return;\n  }\n\n  // Check for active event types\n  if (event.type === \"touchstart\" || event.type === \"touchmove\" || event.type === \"mousedown\" || event.type === \"mousemove\") {\n    // Active\n\n    if (event.type === \"mousemove\" && !touchInput.MOUSEDOWN) {\n      return;\n    }\n\n    if (event.type === \"mousedown\") {\n\n      touchInput.MOUSEDOWN = true;\n    }\n\n    // Button Type\n    if (touchInput.TYPE === 'BUTTON' && event.type !== \"mousemove\") {\n      touchInput.ACTIVE = true;\n      return;\n    }\n\n    // DIRECTIONAL\n    // We will need these  calculations for when if we are dpad or analog\n\n    // Calculate for the correct key\n    // Only using the first touch, since we shouldn't be having two fingers on the dpad\n    var touch = void 0;\n    if (event.type.includes('touch')) {\n      touch = event.touches[0];\n    } else if (event.type.includes('mouse')) {\n      touch = event;\n    }\n\n    // We will need these  calculations for when if we are dpad or analog\n    // Find our centers of our rectangles, and our unbiased X Y values on the rect\n    var rectCenterX = (touchInput.BOUNDING_RECT.right - touchInput.BOUNDING_RECT.left) / 2;\n    var rectCenterY = (touchInput.BOUNDING_RECT.bottom - touchInput.BOUNDING_RECT.top) / 2;\n    var touchX = touch.clientX - touchInput.BOUNDING_RECT.left;\n    var touchY = touch.clientY - touchInput.BOUNDING_RECT.top;\n\n    if (touchInput.TYPE === 'DPAD') {\n\n      // Find if the horizontal or vertical influence is greater\n      // Lesson From: picoDeploy\n      // Fix for shoot button causing the character to move right on multi touch error\n      // + 50 for some buffer\n      if (touchX > rectCenterX + touchInput.BOUNDING_RECT.width / 2 + 50) {\n        // Ignore the event\n        return;\n      }\n\n      // We forsure know we have input\n      // Reset previous DPAD State\n      resetTouchDpad.bind(this)();\n\n      // Create an additonal influece for horizontal, to make it feel better\n      var horizontalInfluence = touchInput.BOUNDING_RECT.width / 8;\n\n      // Determine if we are horizontal or vertical\n      var isHorizontal = Math.abs(rectCenterX - touchX) + horizontalInfluence > Math.abs(rectCenterY - touchY);\n\n      // Find if left or right from width, vice versa for height\n      if (isHorizontal) {\n        // Add a horizontal dead zone\n        var deadzoneSize = touchInput.BOUNDING_RECT.width / 20;\n        if (Math.abs(touchInput.BOUNDING_RECT.width / 2 - touchX) > deadzoneSize) {\n\n          var isLeft = touchX < touchInput.BOUNDING_RECT.width / 2;\n\n          if (isLeft) {\n            // Set DPAD_LEFT Touch Input Active\n            findDpadTouchInput(keyMap, touchInput.ID, 'LEFT').ACTIVE = true;\n          } else {\n            findDpadTouchInput(keyMap, touchInput.ID, 'RIGHT').ACTIVE = true;\n          }\n        }\n      } else {\n        var isUp = touchY < touchInput.BOUNDING_RECT.height / 2;\n        if (isUp) {\n          findDpadTouchInput(keyMap, touchInput.ID, 'UP').ACTIVE = true;\n        } else {\n          findDpadTouchInput(keyMap, touchInput.ID, 'DOWN').ACTIVE = true;\n        }\n      }\n    }\n\n    // Analog Type\n    if (touchInput.TYPE === 'ANALOG') {\n      // Find our Horizontal Axis\n      var horizontalDifferenceFromCenter = touchX - rectCenterX;\n      var horizontalAxis = horizontalDifferenceFromCenter / rectCenterX;\n      if (horizontalAxis > 1) {\n        horizontalAxis = 1.0;\n      } else if (horizontalAxis < -1) {\n        horizontalAxis = -1.0;\n      }\n\n      // Find our Vertical Axis\n      var verticalDifferenceFromCenter = touchY - rectCenterY;\n      var verticalAxis = verticalDifferenceFromCenter / rectCenterY;\n      if (verticalAxis > 1) {\n        verticalAxis = 1.0;\n      } else if (verticalAxis < -1) {\n        verticalAxis = -1.0;\n      }\n\n      // Apply styles to element\n      var translateX = rectCenterX * horizontalAxis / 2;\n      var translateY = rectCenterY * verticalAxis / 2;\n      touchInput.ELEMENT.style.transform = 'translate(' + translateX + 'px, ' + translateY + 'px)';\n\n      // Set Axis on keyMap\n      analogMap[additionalArguments[0] + '_ANALOG_HORIZONTAL_AXIS'] = horizontalAxis;\n      analogMap[additionalArguments[0] + '_ANALOG_VERTICAL_AXIS'] = verticalAxis;\n\n      // Set Analog Direction State\n      analogMap[additionalArguments[0] + '_ANALOG_UP'] = verticalAxis < 0;\n      analogMap[additionalArguments[0] + '_ANALOG_RIGHT'] = horizontalAxis > 0;\n      analogMap[additionalArguments[0] + '_ANALOG_DOWN'] = verticalAxis > 0;\n      analogMap[additionalArguments[0] + '_ANALOG_LEFT'] = horizontalAxis < 0;\n    }\n  } else {\n    // Not active\n\n    touchInput.MOUSEDOWN = false;\n\n    // Button Type\n    if (touchInput.TYPE === 'BUTTON') {\n      touchInput.ACTIVE = false;\n      return;\n    }\n\n    // Handle Dpad Type\n    if (touchInput.TYPE === 'DPAD') {\n      resetTouchDpad.bind(this)();\n      return;\n    }\n\n    if (touchInput.TYPE === 'ANALOG') {\n      resetTouchAnalog(touchInput, analogMap, additionalArguments);\n      return;\n    }\n  }\n}\n\nvar _Key;\n\n// Keyboard Codes\n// http://keycode.info/\n\nvar Key = (_Key = {\n\n  BACKSPACE: 8,\n  TAB: 9,\n  RETURN: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESCAPE: 27,\n  SPACE: 32,\n  PAGE_UP: 33,\n  PAGE_DOWN: 34,\n  END: 35,\n  HOME: 36,\n  META: 91,\n\n  ARROW_LEFT: 37,\n  ARROW_UP: 38,\n  ARROW_RIGHT: 39,\n  ARROW_DOWN: 40,\n\n  W: 87,\n  A: 65,\n  S: 83,\n  D: 68,\n  Q: 81,\n  E: 69,\n  X: 88,\n  Z: 90,\n  C: 67,\n  V: 86,\n  I: 73,\n  K: 75,\n  J: 74,\n  L: 76\n}, defineProperty(_Key, \"Q\", 81), defineProperty(_Key, \"E\", 69), defineProperty(_Key, \"U\", 85), defineProperty(_Key, \"O\", 79), defineProperty(_Key, \"SEMI_COLON\", 186), defineProperty(_Key, \"SINGLE_QUOTE\", 222), defineProperty(_Key, \"BACK_SLASH\", 220), defineProperty(_Key, \"NUMPAD_0\", 96), defineProperty(_Key, \"NUMPAD_1\", 97), defineProperty(_Key, \"NUMPAD_2\", 98), defineProperty(_Key, \"NUMPAD_3\", 99), defineProperty(_Key, \"NUMPAD_4\", 100), defineProperty(_Key, \"NUMPAD_5\", 101), defineProperty(_Key, \"NUMPAD_6\", 102), defineProperty(_Key, \"NUMPAD_7\", 103), defineProperty(_Key, \"NUMPAD_8\", 104), defineProperty(_Key, \"NUMPAD_9\", 105), _Key);\n\n// The default keymap, is very specifc to the \"Standard Controller\"\n\nvar responsive_gamepad_esm_keymap = KeyMapSchema();\n\n// Dpad Up\nresponsive_gamepad_esm_keymap.DPAD_UP.KEYBOARD.push(getKeyInput(Key.ARROW_UP));\nresponsive_gamepad_esm_keymap.DPAD_UP.KEYBOARD.push(getKeyInput(Key.NUMPAD_8));\nresponsive_gamepad_esm_keymap.DPAD_UP.GAMEPAD.push(getGamepadInput(12));\n\n// Left Analog Up\nresponsive_gamepad_esm_keymap.LEFT_ANALOG_UP.KEYBOARD.push(getKeyInput(Key.W));\nresponsive_gamepad_esm_keymap.LEFT_ANALOG_UP.GAMEPAD.push(getGamepadInput(false, 1, false));\n\n// Right Analog Up\nresponsive_gamepad_esm_keymap.RIGHT_ANALOG_UP.KEYBOARD.push(getKeyInput(Key.I));\nresponsive_gamepad_esm_keymap.RIGHT_ANALOG_UP.GAMEPAD.push(getGamepadInput(false, 3, false));\n\n// Dpad Right\nresponsive_gamepad_esm_keymap.DPAD_RIGHT.KEYBOARD.push(getKeyInput(Key.ARROW_RIGHT));\nresponsive_gamepad_esm_keymap.DPAD_RIGHT.KEYBOARD.push(getKeyInput(Key.NUMPAD_6));\nresponsive_gamepad_esm_keymap.DPAD_RIGHT.GAMEPAD.push(getGamepadInput(15));\n\n// Left Analog Right\nresponsive_gamepad_esm_keymap.LEFT_ANALOG_RIGHT.KEYBOARD.push(getKeyInput(Key.D));\nresponsive_gamepad_esm_keymap.LEFT_ANALOG_RIGHT.GAMEPAD.push(getGamepadInput(false, 0, true));\n\n// Right Analog Right\nresponsive_gamepad_esm_keymap.RIGHT_ANALOG_RIGHT.KEYBOARD.push(getKeyInput(Key.L));\nresponsive_gamepad_esm_keymap.RIGHT_ANALOG_RIGHT.GAMEPAD.push(getGamepadInput(false, 2, true));\n\n// Dpad Down\nresponsive_gamepad_esm_keymap.DPAD_DOWN.KEYBOARD.push(getKeyInput(Key.ARROW_DOWN));\nresponsive_gamepad_esm_keymap.DPAD_DOWN.KEYBOARD.push(getKeyInput(Key.NUMPAD_5));\nresponsive_gamepad_esm_keymap.DPAD_DOWN.KEYBOARD.push(getKeyInput(Key.NUMPAD_2));\nresponsive_gamepad_esm_keymap.DPAD_DOWN.GAMEPAD.push(getGamepadInput(13));\n\n// Left Analog Down\nresponsive_gamepad_esm_keymap.LEFT_ANALOG_DOWN.KEYBOARD.push(getKeyInput(Key.S));\nresponsive_gamepad_esm_keymap.LEFT_ANALOG_DOWN.GAMEPAD.push(getGamepadInput(false, 1, true));\n\n// Right Analog Down\nresponsive_gamepad_esm_keymap.RIGHT_ANALOG_DOWN.KEYBOARD.push(getKeyInput(Key.K));\nresponsive_gamepad_esm_keymap.RIGHT_ANALOG_DOWN.GAMEPAD.push(getGamepadInput(false, 3, true));\n\n// Dpad Left\nresponsive_gamepad_esm_keymap.DPAD_LEFT.KEYBOARD.push(getKeyInput(Key.ARROW_LEFT));\nresponsive_gamepad_esm_keymap.DPAD_LEFT.KEYBOARD.push(getKeyInput(Key.NUMPAD_4));\nresponsive_gamepad_esm_keymap.DPAD_LEFT.GAMEPAD.push(getGamepadInput(14));\nresponsive_gamepad_esm_keymap.DPAD_LEFT.GAMEPAD.push(getGamepadInput(false, 0, false));\nresponsive_gamepad_esm_keymap.DPAD_LEFT.GAMEPAD.push(getGamepadInput(false, 2, false));\n\n// Left Analog Left\nresponsive_gamepad_esm_keymap.LEFT_ANALOG_LEFT.KEYBOARD.push(getKeyInput(Key.A));\nresponsive_gamepad_esm_keymap.LEFT_ANALOG_LEFT.GAMEPAD.push(getGamepadInput(false, 0, false));\n\n// Right Analog Left\nresponsive_gamepad_esm_keymap.RIGHT_ANALOG_LEFT.KEYBOARD.push(getKeyInput(Key.J));\nresponsive_gamepad_esm_keymap.RIGHT_ANALOG_LEFT.GAMEPAD.push(getGamepadInput(false, 2, false));\n\n// A\nresponsive_gamepad_esm_keymap.A.KEYBOARD.push(getKeyInput(Key.X));\nresponsive_gamepad_esm_keymap.A.KEYBOARD.push(getKeyInput(Key.SEMI_COLON));\nresponsive_gamepad_esm_keymap.A.KEYBOARD.push(getKeyInput(Key.NUMPAD_7));\nresponsive_gamepad_esm_keymap.A.GAMEPAD.push(getGamepadInput(0));\n\n// B\nresponsive_gamepad_esm_keymap.B.KEYBOARD.push(getKeyInput(Key.Z));\nresponsive_gamepad_esm_keymap.B.KEYBOARD.push(getKeyInput(Key.ESCAPE));\nresponsive_gamepad_esm_keymap.B.KEYBOARD.push(getKeyInput(Key.SINGLE_QUOTE));\nresponsive_gamepad_esm_keymap.B.KEYBOARD.push(getKeyInput(Key.BACKSPACE));\nresponsive_gamepad_esm_keymap.B.KEYBOARD.push(getKeyInput(Key.NUMPAD_9));\nresponsive_gamepad_esm_keymap.B.GAMEPAD.push(getGamepadInput(1));\n\n// X\nresponsive_gamepad_esm_keymap.X.KEYBOARD.push(getKeyInput(Key.C));\nresponsive_gamepad_esm_keymap.X.GAMEPAD.push(getGamepadInput(2));\n\n// Y\nresponsive_gamepad_esm_keymap.Y.KEYBOARD.push(getKeyInput(Key.V));\nresponsive_gamepad_esm_keymap.Y.GAMEPAD.push(getGamepadInput(3));\n\n// Left Trigger\nresponsive_gamepad_esm_keymap.LEFT_TRIGGER.KEYBOARD.push(getKeyInput(Key.Q));\nresponsive_gamepad_esm_keymap.LEFT_TRIGGER.GAMEPAD.push(getGamepadInput(6));\n\n// Left Bumper\nresponsive_gamepad_esm_keymap.LEFT_BUMPER.KEYBOARD.push(getKeyInput(Key.E));\nresponsive_gamepad_esm_keymap.LEFT_BUMPER.GAMEPAD.push(getGamepadInput(4));\n\n// Right Trigger\nresponsive_gamepad_esm_keymap.RIGHT_TRIGGER.KEYBOARD.push(getKeyInput(Key.U));\nresponsive_gamepad_esm_keymap.RIGHT_TRIGGER.GAMEPAD.push(getGamepadInput(7));\n\n// Right Bumper\nresponsive_gamepad_esm_keymap.RIGHT_BUMPER.KEYBOARD.push(getKeyInput(Key.O));\nresponsive_gamepad_esm_keymap.RIGHT_BUMPER.GAMEPAD.push(getGamepadInput(5));\n\n// Start\nresponsive_gamepad_esm_keymap.START.KEYBOARD.push(getKeyInput(Key.RETURN));\nresponsive_gamepad_esm_keymap.START.KEYBOARD.push(getKeyInput(Key.SPACE));\nresponsive_gamepad_esm_keymap.START.KEYBOARD.push(getKeyInput(Key.NUMPAD_3));\nresponsive_gamepad_esm_keymap.START.GAMEPAD.push(getGamepadInput(9));\n\n// Select\nresponsive_gamepad_esm_keymap.SELECT.KEYBOARD.push(getKeyInput(Key.SHIFT));\nresponsive_gamepad_esm_keymap.SELECT.KEYBOARD.push(getKeyInput(Key.TAB));\nresponsive_gamepad_esm_keymap.SELECT.KEYBOARD.push(getKeyInput(Key.BACK_SLASH));\nresponsive_gamepad_esm_keymap.SELECT.KEYBOARD.push(getKeyInput(Key.NUMPAD_1));\nresponsive_gamepad_esm_keymap.SELECT.GAMEPAD.push(getGamepadInput(8));\n\n// Special\nresponsive_gamepad_esm_keymap.SPECIAL.KEYBOARD.push(getKeyInput(Key.ALT));\nresponsive_gamepad_esm_keymap.SPECIAL.KEYBOARD.push(getKeyInput(Key.CTRL));\nresponsive_gamepad_esm_keymap.SPECIAL.KEYBOARD.push(getKeyInput(Key.META));\nresponsive_gamepad_esm_keymap.SELECT.GAMEPAD.push(getGamepadInput(16));\n\nvar KEYMAP = function KEYMAP() {\n  return JSON.parse(JSON.stringify(responsive_gamepad_esm_keymap));\n};\n\nvar keymap$1 = KEYMAP();\n\n// Simply Alias some of our buttons\n\n// Analog -> DPAD\nkeymap$1.DPAD_UP = mergeInputs(keymap$1.DPAD_UP, keymap$1.LEFT_ANALOG_UP, keymap$1.RIGHT_ANALOG_UP);\nkeymap$1.DPAD_RIGHT = mergeInputs(keymap$1.DPAD_RIGHT, keymap$1.LEFT_ANALOG_RIGHT, keymap$1.RIGHT_ANALOG_RIGHT);\nkeymap$1.DPAD_LEFT = mergeInputs(keymap$1.DPAD_LEFT, keymap$1.LEFT_ANALOG_LEFT, keymap$1.RIGHT_ANALOG_LEFT);\nkeymap$1.DPAD_DOWN = mergeInputs(keymap$1.DPAD_DOWN, keymap$1.LEFT_ANALOG_DOWN, keymap$1.RIGHT_ANALOG_DOWN);\n\n// X/Y -> A/B\nkeymap$1.A = mergeInputs(keymap$1.A, keymap$1.X);\nkeymap$1.B = mergeInputs(keymap$1.B, keymap$1.Y);\n\n// Triggers -> A\nkeymap$1.A = mergeInputs(keymap$1.A, keymap$1.LEFT_TRIGGER, keymap$1.RIGHT_TRIGGER);\n\n// Bumpers -> B\nkeymap$1.B = mergeInputs(keymap$1.B, keymap$1.LEFT_BUMPER, keymap$1.RIGHT_BUMPER);\n\nvar KEYMAP$1 = function KEYMAP$$1() {\n  return JSON.parse(JSON.stringify(keymap$1));\n};\n\nvar ResponsiveGamepadService = function () {\n  function ResponsiveGamepadService() {\n    classCallCheck(this, ResponsiveGamepadService);\n\n    // Our settings\n    this.gamepadAnalogStickDeadZone = 0.25;\n    this.keyMap = undefined;\n    this.keyMapKeys = undefined;\n    this.analogMaps = undefined;\n    this.enabled = false;\n    this.keyEventUnlistener = undefined;\n  }\n\n  createClass(ResponsiveGamepadService, [{\n    key: 'enable',\n    value: function enable(keyMap) {\n\n      if (this.enabled) {\n        console.error('Responsive Gamepad is already enabled');\n        return;\n      }\n\n      // TODO: Verify it is a valid keymap passed\n      this.keyMap = keyMap || KEYMAP();\n      this.keyMapKeys = Object.keys(this.keyMap);\n      this.analogMaps = {};\n\n      // Add our key event listeners\n      // Wrapping in this for preact prerender\n      if (typeof window !== \"undefined\") {\n\n        var updateKeyboardHandler = updateKeyboard.bind(this);\n\n        window.addEventListener('keyup', updateKeyboardHandler);\n        window.addEventListener('keydown', updateKeyboardHandler);\n\n        this.keyEventUnlistener = function () {\n          window.removeEventListener('keyup', updateKeyboardHandler);\n          window.removeEventListener('keydown', updateKeyboardHandler);\n        };\n      }\n\n      this.enabled = true;\n    }\n\n    // Disable responsive gamepad, and remove all the listeners\n\n  }, {\n    key: 'disable',\n    value: function disable() {\n      var _this = this;\n\n      // Dispose Key Events\n      if (this.keyEventUnlistener) {\n        this.keyEventUnlistener();\n        this.keyEventUnlistener = undefined;\n      }\n\n      // Dispose Touch Events\n      this.keyMapKeys.forEach(function (keyMapKey) {\n        _this.keyMap[keyMapKey].TOUCHPAD.forEach(function (input) {\n          input.UNLISTEN();\n        });\n      });\n      Object.keys(this.analogMaps).forEach(function (analogMapsKey) {\n        _this.analogMaps[analogMapsKey].TOUCH_INPUT.UNLISTEN();\n      });\n\n      // Dispose of the key map\n      this.keyMap = undefined;\n\n      this.enabled = false;\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return this.enabled;\n    }\n\n    // Function to return if we are ignoring input for key events\n\n  }, {\n    key: 'isIgnoringKeyEvents',\n    value: function isIgnoringKeyEvents$$1() {\n      return isIgnoringKeyEvents();\n    }\n  }, {\n    key: 'addTouchInput',\n    value: function addTouchInput(element, inputType) {\n\n      // Get any additional arguments\n      var originalArguments = [].concat(Array.prototype.slice.call(arguments));\n      var additionalArguments = [].concat(toConsumableArray(originalArguments.slice(2)));\n\n      // Declare our touch input\n      var touchInputId = createTouchInput(element, inputType, updateTouchInputRect.bind(this), updateTouchInput.bind(this), this.keyMap, this.analogMaps, additionalArguments);\n\n      // Return the touchInput ID so that is may be removed later\n      return touchInputId;\n    }\n  }, {\n    key: 'removeTouchInput',\n    value: function removeTouchInput(touchInputId) {\n      var _this2 = this;\n\n      // Search for the input in our touch pad for every key\n      var foundId = false;\n\n      this.keyMapKeys.forEach(function (keyMapKey) {\n        _this2.keyMap[keyMapKey].TOUCHPAD.forEach(function (input, index) {\n          if (input.ID === touchInputId) {\n            input.UNLISTEN();\n            _this2.keyMap[keyMapKey].TOUCHPAD.splice(index, 1);\n            foundId = true;\n          }\n        });\n      });\n\n      if (foundId) {\n        return foundId;\n      }\n\n      // Next, check the analog maps\n      Object.keys(this.analogMaps).forEach(function (analogMapsKey) {\n        if (analogMapsKey === touchInputId) {\n          _this2.analogMaps[analogMapsKey].TOUCH_INPUT.UNLISTEN();\n          delete _this2.analogMaps[analogMapsKey];\n          foundId = true;\n        }\n      });\n\n      return foundId;\n    }\n  }, {\n    key: 'getState',\n    value: function getState() {\n      var _this3 = this;\n\n      if (!this.enabled) {\n        return {};\n      }\n\n      // Keyboard handled by listeners on window\n\n      // Update the gamepad state\n      updateGamepad.bind(this)();\n\n      // Touch Handled by listeners on touchInputs\n\n      // Create an abstracted controller state\n      var controllerState = {};\n\n      // Loop through our Keys, and quickly build our controller state\n      Object.keys(this.keyMap).forEach(function (key) {\n\n        // Find if any of the keyboard, gamepad or touchpad buttons are pressed\n        var keyboardState = _this3.keyMap[key].KEYBOARD.some(function (keyInput) {\n          return keyInput.ACTIVE;\n        });\n\n        if (keyboardState) {\n          controllerState[key] = true;\n          return;\n        }\n\n        // Find if any of the keyboard, gamepad or touchpad buttons are pressed\n        var gamepadState = _this3.keyMap[key].GAMEPAD.some(function (gamepadInput) {\n          return gamepadInput.ACTIVE;\n        });\n\n        if (gamepadState) {\n          controllerState[key] = true;\n          return;\n        }\n\n        // Find if any of the keyboard, gamepad or touchpad buttons are pressed\n        var touchState = _this3.keyMap[key].TOUCHPAD.some(function (touchInput) {\n          return touchInput.ACTIVE;\n        });\n\n        if (touchState) {\n          controllerState[key] = touchState;\n          return;\n        }\n\n        controllerState[key] = false;\n      });\n\n      // Assign Truthy values from the analogMaps\n      Object.keys(this.analogMaps).forEach(function (analogMapsKey) {\n        Object.keys(_this3.analogMaps[analogMapsKey]).forEach(function (analogMapKey) {\n\n          // Skip the Touch Input on the analog Map\n          if (analogMapKey === 'TOUCH_INPUT') {\n            return;\n          }\n\n          var stateValue = _this3.analogMaps[analogMapsKey][analogMapKey];\n          if (stateValue) {\n            controllerState[analogMapKey] = stateValue;\n          }\n        });\n      });\n\n      // Get our Analog Stick Axis\n      // If not provided by touch pad\n      var gamepad = getGamepads()[0];\n      if (gamepad) {\n        controllerState.LEFT_ANALOG_HORIZONTAL_AXIS = getAnalogStickAxis(gamepad, 0);\n        controllerState.LEFT_ANALOG_VERTICAL_AXIS = getAnalogStickAxis(gamepad, 1);\n        controllerState.RIGHT_ANALOG_HORIZONTAL_AXIS = getAnalogStickAxis(gamepad, 2);\n        controllerState.RIGHT_ANALOG_VERTICAL_AXIS = getAnalogStickAxis(gamepad, 3);\n      } else {\n\n        if (!controllerState.LEFT_ANALOG_HORIZONTAL_AXIS) {\n          controllerState.LEFT_ANALOG_HORIZONTAL_AXIS = analogBooleanToAxis(controllerState.LEFT_ANALOG_RIGHT, controllerState.LEFT_ANALOG_LEFT);\n        }\n        if (!controllerState.LEFT_ANALOG_VERTICAL_AXIS) {\n          controllerState.LEFT_ANALOG_VERTICAL_AXIS = analogBooleanToAxis(controllerState.LEFT_ANALOG_DOWN, controllerState.LEFT_ANALOG_UP);\n        }\n\n        if (!controllerState.RIGHT_ANALOG_HORIZONTAL_AXIS) {\n          controllerState.RIGHT_ANALOG_HORIZONTAL_AXIS = analogBooleanToAxis(controllerState.RIGHT_ANALOG_RIGHT, controllerState.RIGHT_ANALOG_LEFT);\n        }\n\n        if (!controllerState.RIGHT_ANALOG_VERTICAL_AXIS) {\n          controllerState.RIGHT_ANALOG_VERTICAL_AXIS = analogBooleanToAxis(controllerState.RIGHT_ANALOG_DOWN, controllerState.RIGHT_ANALOG_UP);\n        }\n      }\n\n      // Alias some other values for convienence\n      controllerState.UP = controllerState.DPAD_UP || controllerState.LEFT_ANALOG_UP || false;\n      controllerState.RIGHT = controllerState.DPAD_RIGHT || controllerState.LEFT_ANALOG_RIGHT || false;\n      controllerState.DOWN = controllerState.DPAD_DOWN || controllerState.LEFT_ANALOG_DOWN || false;\n      controllerState.LEFT = controllerState.DPAD_LEFT || controllerState.LEFT_ANALOG_LEFT || false;\n\n      if (controllerState.UP && controllerState.DOWN) {\n        controllerState.UP = false;\n        controllerState.DOWN = false;\n      }\n\n      if (controllerState.RIGHT && controllerState.LEFT) {\n        controllerState.RIGHT = false;\n        controllerState.LEFT = false;\n      }\n\n      // Return the controller state in case we need something from it\n      return controllerState;\n    }\n  }]);\n  return ResponsiveGamepadService;\n}();\n\n// Exports\n\n\nvar ResponsiveGamepad = new ResponsiveGamepadService();\n\n\n// CONCATENATED MODULE: ./index.js\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return index_App; });\nvar index__extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar _ref = Object(preact_min[\"h\"])(\n\t'h1',\n\tnull,\n\t'Responsive Gamepad Demo'\n);\n\nvar _ref2 = Object(preact_min[\"h\"])(\n\t'div',\n\t{ 'class': 'githubLink' },\n\tObject(preact_min[\"h\"])(\n\t\t'a',\n\t\t{ href: 'https://github.com/torch2424/responsive-gamepad', target: '_blank' },\n\t\t'Fork me on github'\n\t)\n);\n\nvar _ref3 = Object(preact_min[\"h\"])(\n\t'p',\n\tnull,\n\t'This is the example demo for ',\n\tObject(preact_min[\"h\"])(\n\t\t'a',\n\t\t{ href: 'https://github.com/torch2424/responsive-gamepad', target: '_blank' },\n\t\t'responsive-gamepad'\n\t),\n\t'. Feel free to test this demo with:',\n\tObject(preact_min[\"h\"])(\n\t\t'ul',\n\t\tnull,\n\t\tObject(preact_min[\"h\"])(\n\t\t\t'li',\n\t\t\tnull,\n\t\t\t'Keyboard'\n\t\t),\n\t\tObject(preact_min[\"h\"])(\n\t\t\t'li',\n\t\t\tnull,\n\t\t\t'Gamepad (Feel free to plug one into USB)'\n\t\t),\n\t\tObject(preact_min[\"h\"])(\n\t\t\t'li',\n\t\t\tnull,\n\t\t\t'Touchpad (See the floating fixed element at the bottom of the screen)'\n\t\t)\n\t),\n\t'Please scroll down to see the different features and examples the API provides, each with a color coded section.'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])(\n\t'h3',\n\tnull,\n\t'Responsive Gamepad State:'\n);\n\nvar _ref5 = Object(preact_min[\"h\"])(\n\t'h3',\n\tnull,\n\t'Enabled/Disable With Custom Keymaps'\n);\n\nvar _ref6 = Object(preact_min[\"h\"])(\n\t'p',\n\tnull,\n\t'Responsive Gamepad can be enabled and disabled (as a whole) as needed'\n);\n\nvar _ref7 = Object(preact_min[\"h\"])(\n\t'p',\n\tnull,\n\t'Custom Keymaps allow for altering which inputs represent which responsive-gamepad state key. For instance, the \"gameboy\" keymap merges the X/Y buttons with the A/B buttons, and more! You must disable the keymap to enable the gameboy keymap'\n);\n\nvar _ref8 = Object(preact_min[\"h\"])(\n\t'h3',\n\tnull,\n\t'Dynamic Touch Input'\n);\n\nvar _ref9 = Object(preact_min[\"h\"])(\n\t'p',\n\tnull,\n\t'Touch inputs can be added/removed on the fly!'\n);\n\nvar _ref10 = Object(preact_min[\"h\"])(\n\t'h3',\n\tnull,\n\t'Prevent Default (Keyboard Only)'\n);\n\nvar _ref11 = Object(preact_min[\"h\"])(\n\t'p',\n\tnull,\n\t'I am very tall to show off `event.preventDefault()`. E.g arrow keys wont scroll if in the keymap. But typing will work on input type form fields!'\n);\n\nvar _ref12 = Object(preact_min[\"h\"])('input', { type: 'text' });\n\nvar _ref13 = Object(preact_min[\"h\"])('br', null);\n\nvar _ref14 = Object(preact_min[\"h\"])('textarea', null);\n\nvar _ref15 = Object(preact_min[\"h\"])('br', null);\n\nvar _ref16 = Object(preact_min[\"h\"])('br', null);\n\nvar _ref17 = Object(preact_min[\"h\"])(\n\t'select',\n\tnull,\n\tObject(preact_min[\"h\"])(\n\t\t'option',\n\t\t{ value: 'use' },\n\t\t'use arrow keys once selected'\n\t),\n\tObject(preact_min[\"h\"])(\n\t\t'option',\n\t\t{ value: 'arrow' },\n\t\t'use arrow keys once selected'\n\t),\n\tObject(preact_min[\"h\"])(\n\t\t'option',\n\t\t{ value: 'keys' },\n\t\t'use arrow keys once selected'\n\t)\n);\n\nvar _ref18 = Object(preact_min[\"h\"])(\n\t'div',\n\t{ 'class': 'analog-container' },\n\tObject(preact_min[\"h\"])(\n\t\t'svg',\n\t\t{ id: 'gamepadLeftAnalog', 'class': 'analog-stick', height: '24', viewBox: '0 0 24 24', width: '24', xmlns: 'http://www.w3.org/2000/svg' },\n\t\tObject(preact_min[\"h\"])('circle', { cx: '12', cy: '12', r: '6' })\n\t),\n\tObject(preact_min[\"h\"])(\n\t\t'svg',\n\t\t{ id: 'gamepadLeftAnalogBg', 'class': 'analog-background', height: '24', viewBox: '0 0 24 24', width: '24', xmlns: 'http://www.w3.org/2000/svg' },\n\t\tObject(preact_min[\"h\"])('circle', { cx: '12', cy: '12', r: '12' })\n\t)\n);\n\nvar _ref19 = Object(preact_min[\"h\"])(\n\t'svg',\n\t{ id: 'gamepadDpad', height: '24', viewBox: '0 0 24 24', width: '24', xmlns: 'http://www.w3.org/2000/svg' },\n\tObject(preact_min[\"h\"])('path', { d: 'M0 0h24v24H0z', fill: 'none' }),\n\tObject(preact_min[\"h\"])('path', { d: 'M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z' })\n);\n\nvar _ref20 = Object(preact_min[\"h\"])(\n\t'svg',\n\t{ id: 'gamepadStart', fill: '#000000', height: '24', viewBox: '0 0 24 24', width: '24', xmlns: 'http://www.w3.org/2000/svg' },\n\tObject(preact_min[\"h\"])('path', { d: 'M19 13H5v-2h14v2z' }),\n\tObject(preact_min[\"h\"])('path', { d: 'M0 0h24v24H0z', fill: 'none' }),\n\tObject(preact_min[\"h\"])(\n\t\t'text',\n\t\t{ x: '5.5', y: '18.5' },\n\t\t'Start'\n\t)\n);\n\nvar _ref21 = Object(preact_min[\"h\"])(\n\t'svg',\n\t{ id: 'gamepadSelect', height: '24', viewBox: '0 0 24 24', width: '24', xmlns: 'http://www.w3.org/2000/svg' },\n\tObject(preact_min[\"h\"])('path', { d: 'M19 13H5v-2h14v2z' }),\n\tObject(preact_min[\"h\"])('path', { d: 'M0 0h24v24H0z', fill: 'none' }),\n\tObject(preact_min[\"h\"])(\n\t\t'text',\n\t\t{ x: '3.5', y: '18.5' },\n\t\t'Select'\n\t)\n);\n\nvar _ref22 = Object(preact_min[\"h\"])(\n\t'svg',\n\t{ id: 'gamepadA', height: '24', viewBox: '0 0 24 24', width: '24', xmlns: 'http://www.w3.org/2000/svg' },\n\tObject(preact_min[\"h\"])('path', { d: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z' }),\n\tObject(preact_min[\"h\"])('path', { d: 'M0 0h24v24H0z', fill: 'none' }),\n\tObject(preact_min[\"h\"])(\n\t\t'text',\n\t\t{ x: '9.75', y: '14' },\n\t\t'A'\n\t)\n);\n\nvar _ref23 = Object(preact_min[\"h\"])(\n\t'svg',\n\t{ id: 'gamepadB', height: '24', viewBox: '0 0 24 24', width: '24', xmlns: 'http://www.w3.org/2000/svg' },\n\tObject(preact_min[\"h\"])('path', { d: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z' }),\n\tObject(preact_min[\"h\"])('path', { d: 'M0 0h24v24H0z', fill: 'none' }),\n\tObject(preact_min[\"h\"])(\n\t\t'text',\n\t\t{ x: '9.75', y: '14' },\n\t\t'B'\n\t)\n);\n\nvar index_App = function (_Component) {\n\t_inherits(App, _Component);\n\n\tfunction App() {\n\t\t_classCallCheck(this, App);\n\n\t\treturn _possibleConstructorReturn(this, _Component.call(this));\n\t}\n\n\t// Using componentDidMount to wait for the canvas element to be inserted in DOM\n\n\n\tApp.prototype.componentDidMount = function componentDidMount() {\n\t\tvar _this2 = this;\n\n\t\tthis.enableGamepad();\n\n\t\trequestAnimationFrame(function () {\n\t\t\t_this2.displayGamepadState();\n\t\t});\n\t};\n\n\tApp.prototype.displayGamepadState = function displayGamepadState() {\n\t\tvar _this3 = this;\n\n\t\tvar gamepadStateElement = document.getElementById(\"gamepadState\");\n\t\tthis.setState(index__extends({}, this.state, {\n\t\t\tgamepadState: JSON.stringify(ResponsiveGamepad.getState(), null, 4)\n\t\t}));\n\n\t\trequestAnimationFrame(function () {\n\t\t\t_this3.displayGamepadState();\n\t\t});\n\t};\n\n\tApp.prototype.enableGamepad = function enableGamepad(keymap) {\n\t\t// Initialize our gamepad\n\t\tResponsiveGamepad.enable(keymap);\n\n\t\t// Add our touch inputs\n\t\tvar dpadElement = document.getElementById('gamepadDpad');\n\t\tvar analogStickElement = document.getElementById('gamepadLeftAnalog');\n\t\tvar startElement = document.getElementById('gamepadStart');\n\t\tvar aElement = document.getElementById('gamepadA');\n\t\tvar bElement = document.getElementById('gamepadB');\n\n\t\tResponsiveGamepad.addTouchInput(dpadElement, 'DPAD');\n\t\tResponsiveGamepad.addTouchInput(analogStickElement, 'ANALOG', 'LEFT');\n\t\tResponsiveGamepad.addTouchInput(aElement, 'BUTTON', RESPONSIVE_GAMEPAD_KEYS.A);\n\t\tResponsiveGamepad.addTouchInput(bElement, 'BUTTON', RESPONSIVE_GAMEPAD_KEYS.B);\n\t\tResponsiveGamepad.addTouchInput(startElement, 'BUTTON', RESPONSIVE_GAMEPAD_KEYS.START);\n\n\t\tthis.setState(index__extends({}, this.state, {\n\t\t\ttouchSelectId: undefined\n\t\t}));\n\t\tthis.toggleTouchSelectInput();\n\t};\n\n\tApp.prototype.enableGameboyKeymap = function enableGameboyKeymap() {\n\t\tthis.enableGamepad(KEYMAP$1());\n\t};\n\n\tApp.prototype.disableGamepad = function disableGamepad() {\n\t\tResponsiveGamepad.disable();\n\n\t\tthis.setState(index__extends({}, this.state, {\n\t\t\ttouchSelectId: undefined\n\t\t}));\n\t};\n\n\tApp.prototype.toggleResponsiveGamepad = function toggleResponsiveGamepad() {\n\t\tif (ResponsiveGamepad.isEnabled()) {\n\t\t\tthis.disableGamepad();\n\t\t} else {\n\t\t\tthis.enableGamepad();\n\t\t}\n\t};\n\n\tApp.prototype.toggleTouchSelectInput = function toggleTouchSelectInput() {\n\t\tif (this.state.touchSelectId) {\n\t\t\tResponsiveGamepad.removeTouchInput(this.state.touchSelectId);\n\t\t\tthis.setState(index__extends({}, this.state, {\n\t\t\t\ttouchSelectId: undefined\n\t\t\t}));\n\t\t} else {\n\n\t\t\tvar selectElement = document.getElementById('gamepadSelect');\n\t\t\tvar touchSelectId = ResponsiveGamepad.addTouchInput(selectElement, 'BUTTON', RESPONSIVE_GAMEPAD_KEYS.SELECT);\n\n\t\t\tthis.setState({\n\t\t\t\ttouchSelectId: touchSelectId\n\t\t\t});\n\t\t}\n\t};\n\n\tApp.prototype.render = function render() {\n\t\tvar _this4 = this;\n\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\t_ref,\n\t\t\t_ref2,\n\t\t\t_ref3,\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'gamepadState' },\n\t\t\t\t_ref4,\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Enabled: ',\n\t\t\t\t\tResponsiveGamepad.isEnabled().toString()\n\t\t\t\t),\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Is Ignoring Keyboard Input from Focusing on Input Element: ',\n\t\t\t\t\tResponsiveGamepad.isIgnoringKeyEvents().toString()\n\t\t\t\t),\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'pre',\n\t\t\t\t\t{ id: 'gamepadState' },\n\t\t\t\t\tthis.state.gamepadState\n\t\t\t\t)\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'addRemoveTouch' },\n\t\t\t\t_ref5,\n\t\t\t\t_ref6,\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ onClick: function onClick() {\n\t\t\t\t\t\t\t\treturn _this4.toggleResponsiveGamepad();\n\t\t\t\t\t\t\t} },\n\t\t\t\t\t\tResponsiveGamepad.isEnabled() ? 'Disable Responsive Gamepad' : 'Enable Default Responsive Gamepad'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_ref7,\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ onClick: function onClick() {\n\t\t\t\t\t\t\t\treturn _this4.enableGameboyKeymap();\n\t\t\t\t\t\t\t}, disabled: ResponsiveGamepad.isEnabled() },\n\t\t\t\t\t\t'Enable Gameboy Keymap'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'dynamicTouchInput' },\n\t\t\t\t_ref8,\n\t\t\t\t_ref9,\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t'button',\n\t\t\t\t\t\t{ onClick: function onClick() {\n\t\t\t\t\t\t\t\treturn _this4.toggleTouchSelectInput();\n\t\t\t\t\t\t\t}, disabled: !ResponsiveGamepad.isEnabled() },\n\t\t\t\t\t\tthis.state.touchSelectId ? 'Disable SELECT Touch Input (current Id: ' + this.state.touchSelectId + ')' : 'Enable SELECT Touch Input'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'preventDefault' },\n\t\t\t\t_ref10,\n\t\t\t\t_ref11,\n\t\t\t\t_ref12,\n\t\t\t\t_ref13,\n\t\t\t\t_ref14,\n\t\t\t\t_ref15,\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'button',\n\t\t\t\t\t{ onClick: function onClick() {\n\t\t\t\t\t\t\tconsole.log('I was the button your pressed a key on.');\n\t\t\t\t\t\t} },\n\t\t\t\t\t'Press space on me, and check your logs!'\n\t\t\t\t),\n\t\t\t\t_ref16,\n\t\t\t\t_ref17\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'gamepad' },\n\t\t\t\t_ref18,\n\t\t\t\t_ref19,\n\t\t\t\t_ref20,\n\t\t\t\t_ref21,\n\t\t\t\t_ref22,\n\t\t\t\t_ref23\n\t\t\t)\n\t\t);\n\t};\n\n\treturn App;\n}(preact_min[\"Component\"]);\n\n\n\n/***/ }),\n\n/***/ \"uXl7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _preact = __webpack_require__(\"EBst\");\n\nif (false) {\n\trequire('preact/devtools');\n} else if (true && 'serviceWorker' in navigator && location.protocol === 'https:') {\n\tnavigator.serviceWorker.register(__webpack_require__.p + 'sw.js');\n}\n\nvar interopDefault = function interopDefault(m) {\n\treturn m && m.default ? m.default : m;\n};\n\nvar app = interopDefault(__webpack_require__(\"JkW7\"));\n\nif (typeof app === 'function') {\n\tvar root = document.body.firstElementChild;\n\n\tvar init = function init() {\n\t\tvar app = interopDefault(__webpack_require__(\"JkW7\"));\n\t\troot = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n\t};\n\n\tif (false) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// bundle.4f9fb.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/responsive-gamepad/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"uXl7\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 905fee8e993a53e304ff","!function(){\"use strict\";function e(e,t){var n,o,r,i,l=M;for(i=arguments.length;i-- >2;)T.push(arguments[i]);t&&null!=t.children&&(T.length||T.push(t.children),delete t.children);while(T.length)if((o=T.pop())&&void 0!==o.pop)for(i=o.length;i--;)T.push(o[i]);else\"boolean\"==typeof o&&(o=null),(r=\"function\"!=typeof e)&&(null==o?o=\"\":\"number\"==typeof o?o+=\"\":\"string\"!=typeof o&&(r=!1)),r&&n?l[l.length-1]+=o:l===M?l=[o]:l.push(o),n=r;var a=new S;return a.nodeName=e,a.children=l,a.attributes=null==t?void 0:t,a.key=null==t?void 0:t.key,void 0!==L.vnode&&L.vnode(a),a}function t(e,t){for(var n in t)e[n]=t[n];return e}function n(n,o){return e(n.nodeName,t(t({},n.attributes),o),arguments.length>2?[].slice.call(arguments,2):n.children)}function o(e){!e.__d&&(e.__d=!0)&&1==D.push(e)&&(L.debounceRendering||P)(r)}function r(){var e,t=D;D=[];while(e=t.pop())e.__d&&C(e)}function i(e,t,n){return\"string\"==typeof t||\"number\"==typeof t?void 0!==e.splitText:\"string\"==typeof t.nodeName?!e._componentConstructor&&l(e,t.nodeName):n||e._componentConstructor===t.nodeName}function l(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function a(e){var n=t({},e.attributes);n.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===n[r]&&(n[r]=o[r]);return n}function p(e,t){var n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",e):document.createElement(e);return n.__n=e,n}function s(e){var t=e.parentNode;t&&t.removeChild(e)}function u(e,t,n,o,r){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n&&n(null),o&&o(e);else if(\"class\"!==t||r)if(\"style\"===t){if(o&&\"string\"!=typeof o&&\"string\"!=typeof n||(e.style.cssText=o||\"\"),o&&\"object\"==typeof o){if(\"string\"!=typeof n)for(var i in n)i in o||(e.style[i]=\"\");for(var i in o)e.style[i]=\"number\"==typeof o[i]&&!1===W.test(i)?o[i]+\"px\":o[i]}}else if(\"dangerouslySetInnerHTML\"===t)o&&(e.innerHTML=o.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var l=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,c,l):e.removeEventListener(t,c,l),(e.__l||(e.__l={}))[t]=o}else if(\"list\"!==t&&\"type\"!==t&&!r&&t in e){try{e[t]=null==o?\"\":o}catch(e){}null!=o&&!1!==o||\"spellcheck\"==t||e.removeAttribute(t)}else{var a=r&&t!==(t=t.replace(/^xlink:?/,\"\"));null==o||!1===o?a?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof o&&(a?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||\"\"}function c(e){return this.__l[e.type](L.event&&L.event(e)||e)}function _(){var e;while(e=E.pop())L.afterMount&&L.afterMount(e),e.componentDidMount&&e.componentDidMount()}function d(e,t,n,o,r,i){V++||(A=null!=r&&void 0!==r.ownerSVGElement,H=null!=e&&!(\"__preactattr_\"in e));var l=f(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--V||(H=!1,i||_()),l}function f(e,t,n,o,r){var i=e,a=A;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),m(e,!0))),i.__preactattr_=!0,i;var s=t.nodeName;if(\"function\"==typeof s)return x(e,t,n,o);if(A=\"svg\"===s||\"foreignObject\"!==s&&A,s+=\"\",(!e||!l(e,s))&&(i=p(s,A),e)){while(e.firstChild)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),m(e,!0)}var u=i.firstChild,c=i.__preactattr_,_=t.children;if(null==c){c=i.__preactattr_={};for(var d=i.attributes,f=d.length;f--;)c[d[f].name]=d[f].value}return!H&&_&&1===_.length&&\"string\"==typeof _[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=_[0]&&(u.nodeValue=_[0]):(_&&_.length||null!=u)&&h(i,_,n,o,H||null!=c.dangerouslySetInnerHTML),b(i,t.attributes,c),A=a,i}function h(e,t,n,o,r){var l,a,p,u,c,_=e.childNodes,d=[],h={},v=0,b=0,y=_.length,g=0,w=t?t.length:0;if(0!==y)for(var C=0;C<y;C++){var x=_[C],N=x.__preactattr_,k=w&&N?x._component?x._component.__k:N.key:null;null!=k?(v++,h[k]=x):(N||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(d[g++]=x)}if(0!==w)for(var C=0;C<w;C++){u=t[C],c=null;var k=u.key;if(null!=k)v&&void 0!==h[k]&&(c=h[k],h[k]=void 0,v--);else if(b<g)for(l=b;l<g;l++)if(void 0!==d[l]&&i(a=d[l],u,r)){c=a,d[l]=void 0,l===g-1&&g--,l===b&&b++;break}c=f(c,u,n,o),p=_[C],c&&c!==e&&c!==p&&(null==p?e.appendChild(c):c===p.nextSibling?s(p):e.insertBefore(c,p))}if(v)for(var C in h)void 0!==h[C]&&m(h[C],!1);while(b<=g)void 0!==(c=d[g--])&&m(c,!1)}function m(e,t){var n=e._component;n?N(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||s(e),v(e))}function v(e){e=e.lastChild;while(e){var t=e.previousSibling;m(e,!0),e=t}}function b(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||u(e,o,n[o],n[o]=void 0,A);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||u(e,o,n[o],n[o]=t[o],A)}function y(e,t,n){var o,r=B.length;e.prototype&&e.prototype.render?(o=new e(t,n),k.call(o,t,n)):(o=new k(t,n),o.constructor=e,o.render=g);while(r--)if(B[r].constructor===e)return o.__b=B[r].__b,B.splice(r,1),o;return o}function g(e,t,n){return this.constructor(e,n)}function w(e,t,n,r,i){e.__x||(e.__x=!0,e.__r=t.ref,e.__k=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r)),r&&r!==e.context&&(e.__c||(e.__c=e.context),e.context=r),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===L.syncComponentUpdates&&e.base?o(e):C(e,1,i)),e.__r&&e.__r(e))}function C(e,n,o,r){if(!e.__x){var i,l,p,s=e.props,u=e.state,c=e.context,f=e.__p||s,h=e.__s||u,v=e.__c||c,b=e.base,g=e.__b,x=b||g,k=e._component,U=!1,S=v;if(e.constructor.getDerivedStateFromProps&&(u=t(t({},u),e.constructor.getDerivedStateFromProps(s,u)),e.state=u),b&&(e.props=f,e.state=h,e.context=v,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,u,c)?U=!0:e.componentWillUpdate&&e.componentWillUpdate(s,u,c),e.props=s,e.state=u,e.context=c),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!U){i=e.render(s,u,c),e.getChildContext&&(c=t(t({},c),e.getChildContext())),b&&e.getSnapshotBeforeUpdate&&(S=e.getSnapshotBeforeUpdate(f,h));var T,M,P=i&&i.nodeName;if(\"function\"==typeof P){var W=a(i);l=k,l&&l.constructor===P&&W.key==l.__k?w(l,W,1,c,!1):(T=l,e._component=l=y(P,W,c),l.__b=l.__b||g,l.__u=e,w(l,W,0,c,!1),C(l,1,o,!0)),M=l.base}else p=x,T=k,T&&(p=e._component=null),(x||1===n)&&(p&&(p._component=null),M=d(p,i,c,o||!b,x&&x.parentNode,!0));if(x&&M!==x&&l!==k){var D=x.parentNode;D&&M!==D&&(D.replaceChild(M,x),T||(x._component=null,m(x,!1)))}if(T&&N(T),e.base=M,M&&!r){var A=e,H=e;while(H=H.__u)(A=H).base=M;M._component=A,M._componentConstructor=A.constructor}}!b||o?E.unshift(e):U||(e.componentDidUpdate&&e.componentDidUpdate(f,h,S),L.afterUpdate&&L.afterUpdate(e));while(e.__h.length)e.__h.pop().call(e);V||r||_()}}function x(e,t,n,o){var r=e&&e._component,i=r,l=e,p=r&&e._componentConstructor===t.nodeName,s=p,u=a(t);while(r&&!s&&(r=r.__u))s=r.constructor===t.nodeName;return r&&s&&(!o||r._component)?(w(r,u,3,n,o),e=r.base):(i&&!p&&(N(i),e=l=null),r=y(t.nodeName,u,n),e&&!r.__b&&(r.__b=e,l=null),w(r,u,1,n,o),e=r.base,l&&e!==l&&(l._component=null,m(l,!1))),e}function N(e){L.beforeUnmount&&L.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?N(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,s(t),B.push(e),v(t)),e.__r&&e.__r(null)}function k(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{},this.__h=[]}function U(e,t,n){return d(n,e,{},!1,t,!1)}var S=function(){},L={},T=[],M=[],P=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,W=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,D=[],E=[],V=0,A=!1,H=!1,B=[];t(k.prototype,{setState:function(e,n){this.__s||(this.__s=this.state),this.state=t(t({},this.state),\"function\"==typeof e?e(this.state,this.props):e),n&&this.__h.push(n),o(this)},forceUpdate:function(e){e&&this.__h.push(e),C(this,2)},render:function(){}});var F={h:e,createElement:e,cloneElement:n,Component:k,render:U,rerender:r,options:L};\"undefined\"!=typeof module?module.exports=F:self.preact=F}();\n//# sourceMappingURL=preact.min.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/preact/dist/preact.min.js","var classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n// Define a keyboard key schema\nvar keyInputSchema = {\n  ID: undefined,\n  ACTIVE: false,\n  KEY_CODE: undefined\n\n  // Define a gamepad button schema\n  // https://w3c.github.io/gamepad/#remapping\n};var gamepadInputSchema = {\n  ID: undefined,\n  ACTIVE: false,\n  BUTTON_ID: undefined,\n  JOYSTICK: {\n    AXIS_ID: undefined,\n    IS_POSITIVE: undefined\n  }\n};\n\nvar touchInputSchema = {\n  ID: undefined,\n  ACTIVE: false,\n  ELEMENT: undefined,\n  TYPE: undefined,\n  DIRECTION: undefined,\n  EVENT_HANDLER: undefined,\n  BOUNDING_RECT: undefined\n};\n\nvar touchInputTypes = {\n  BUTTON: \"BUTTON\",\n  DPAD: \"DPAD\",\n  ANALOG: \"ANALOG\"\n};\n\n// Define our keymap keys\nvar responsiveGamepadKeys = {\n  DPAD_UP: 'DPAD_UP',\n  DPAD_RIGHT: 'DPAD_RIGHT',\n  DPAD_DOWN: 'DPAD_DOWN',\n  DPAD_LEFT: 'DPAD_LEFT',\n  LEFT_ANALOG_UP: 'LEFT_ANALOG_UP',\n  LEFT_ANALOG_RIGHT: 'LEFT_ANALOG_RIGHT',\n  LEFT_ANALOG_DOWN: 'LEFT_ANALOG_DOWN',\n  LEFT_ANALOG_LEFT: 'LEFT_ANALOG_LEFT',\n  RIGHT_ANALOG_UP: 'RIGHT_ANALOG_UP',\n  RIGHT_ANALOG_RIGHT: 'RIGHT_ANALOG_RIGHT',\n  RIGHT_ANALOG_DOWN: 'RIGHT_ANALOG_DOWN',\n  RIGHT_ANALOG_LEFT: 'RIGHT_ANALOG_LEFT',\n  A: 'A',\n  B: 'B',\n  X: 'X',\n  Y: 'Y',\n  LEFT_TRIGGER: 'LEFT_TRIGGER',\n  LEFT_BUMPER: 'LEFT_BUMPER',\n  RIGHT_TRIGGER: 'RIGHT_TRIGGER',\n  RIGHT_BUMPER: 'RIGHT_BUMPER',\n  SELECT: 'SELECT',\n  START: 'START',\n  SPECIAL: 'SPECIAL'\n\n  // Define our keymap schema generator\n};function KeyMapSchema() {\n  var keyMapSchema = {};\n  Object.keys(responsiveGamepadKeys).forEach(function (key) {\n    keyMapSchema[key] = {\n      KEYBOARD: [],\n      GAMEPAD: [],\n      TOUCHPAD: []\n    };\n  });\n  return keyMapSchema;\n}\n\n// Function to return an ID for our input\n// https://stackoverflow.com/questions/6860853/generate-random-string-for-div-id\nfunction getInputId() {\n\n  var idGenerator = function idGenerator() {\n    return Math.random().toString(36).replace(/[^a-z]+/g, '').substr(2, 10);\n  };\n\n  var stringId = \"\" + idGenerator() + idGenerator();\n  return stringId.slice();\n}\n\nfunction getKeyInput(keyCode) {\n  var input = Object.assign({}, keyInputSchema);\n  input.ID = getInputId();\n  input.KEY_CODE = keyCode;\n  return input;\n}\n\nfunction getGamepadInput(gamepadButtonId, axisId, axisIsPositive) {\n  var input = Object.assign({}, gamepadInputSchema);\n  input.ID = getInputId();\n  input.JOYSTICK = Object.assign({}, gamepadInputSchema.JOYSTICK);\n  if (gamepadButtonId || gamepadButtonId === 0) {\n    input.BUTTON_ID = gamepadButtonId;\n  } else if (axisId !== undefined && axisIsPositive !== undefined) {\n    input.JOYSTICK.AXIS_ID = axisId;\n    input.JOYSTICK.IS_POSITIVE = axisIsPositive;\n  }\n  return input;\n}\n\nfunction createTouchInput(element, inputType, updateTouchInputRect, updateTouchInput, keyMap, analogMaps, additionalArguments) {\n\n  if (!Object.keys(touchInputTypes).includes(inputType)) {\n    return false;\n  }\n\n  // Create our basic touch input attributes\n  var touchInput = Object.assign({}, touchInputSchema);\n  touchInput.ID = getInputId();\n  touchInput.ELEMENT = element;\n  touchInput.TYPE = inputType;\n\n  // Add our bounding rect\n  var updateRectHandler = updateTouchInputRect.bind(null, touchInput);\n  updateRectHandler();\n\n  // Define our eventListener functions\n  var eventListenerCallback = function eventListenerCallback(event) {\n    updateTouchInput(touchInput, keyMap, analogMaps[touchInput.ID], additionalArguments, event);\n  };\n\n  // Add event listeners to the element\n  window.addEventListener(\"resize\", updateRectHandler);\n  touchInput.ELEMENT.addEventListener(\"touchstart\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"touchmove\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"touchend\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"mousedown\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"mousemove\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"mouseup\", eventListenerCallback);\n  touchInput.ELEMENT.addEventListener(\"mouseleave\", eventListenerCallback);\n\n  // Create a dispose function on the touch input\n  touchInput.UNLISTEN = function () {\n    window.removeEventListener(\"resize\", updateRectHandler);\n    touchInput.ELEMENT.removeEventListener(\"touchstart\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"touchmove\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"touchend\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"mousedown\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"mousemove\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"mouseup\", eventListenerCallback);\n    touchInput.ELEMENT.removeEventListener(\"mouseleave\", eventListenerCallback);\n  };\n\n  // Add the touch input to the appropriate keymap\n  if (inputType === touchInputTypes.BUTTON) {\n    // Add the button to the additional keyMapKey argument\n    keyMap[additionalArguments[0]].TOUCHPAD.push(touchInput);\n  } else if (inputType === touchInputTypes.DPAD) {\n    // Spread the touch input over the DPAD_X inputs\n    ['UP', 'RIGHT', 'DOWN', 'LEFT'].forEach(function (direction) {\n      var directionalTouchInput = Object.assign({}, touchInput);\n      directionalTouchInput.DIRECTION = direction;\n      keyMap[\"DPAD_\" + direction].TOUCHPAD.push(directionalTouchInput);\n    });\n  } else if (inputType === touchInputTypes.ANALOG) {\n    // Since we are axes, and not on/off handled in updateTouchpad\n    analogMaps[touchInput.ID] = {\n      TOUCH_INPUT: touchInput\n    };\n  }\n\n  return touchInput.ID;\n}\n\n// Helper function for creating new gamepads\nfunction mergeInputs(baseKey) {\n\n  // Get our extra arguments\n  var originalArguments = [].concat(Array.prototype.slice.call(arguments));\n  var extraArguments = [].concat(toConsumableArray(originalArguments.slice(1)));\n\n  // Create our new merged key\n  var mergedKey = {\n    KEYBOARD: [].concat(toConsumableArray(baseKey.KEYBOARD)),\n    GAMEPAD: [].concat(toConsumableArray(baseKey.GAMEPAD)),\n    TOUCHPAD: [].concat(toConsumableArray(baseKey.TOUCHPAD))\n  };\n\n  extraArguments.forEach(function (key) {\n    mergedKey = {\n      KEYBOARD: [].concat(toConsumableArray(mergedKey.KEYBOARD), toConsumableArray(key.KEYBOARD)),\n      GAMEPAD: [].concat(toConsumableArray(mergedKey.GAMEPAD), toConsumableArray(key.GAMEPAD)),\n      TOUCHPAD: [].concat(toConsumableArray(mergedKey.TOUCHPAD), toConsumableArray(key.TOUCHPAD))\n    };\n  });\n\n  return mergedKey;\n}\n\nvar RESPONSIVE_GAMEPAD_KEYS = responsiveGamepadKeys;\nvar TOUCH_INPUT_TYPES = touchInputTypes;\n\n// Functions to update keymap state\n// 'this' should be bound by the respective service\n\n// HTML Tags that can be focused on, where the library should be disabled\n// https://www.w3schools.com/tags/ref_byfunc.asp\nvar INPUT_HTML_TAGS = ['input', 'textarea', 'button', 'select', 'option', 'optgroup', 'label', 'datalist'];\n\n// Function to return if we are ignoring input for key events\nfunction isIgnoringKeyEvents() {\n\n  // Checking for window for preact prerender\n  if (typeof window === \"undefined\") {\n    return true;\n  }\n\n  return INPUT_HTML_TAGS.some(function (htmlTag) {\n    if (document.activeElement && document.activeElement.tagName.toLowerCase() === htmlTag.toLowerCase()) {\n      return true;\n    }\n    return false;\n  });\n}\n\n// Function to handle keyboard update events\nfunction updateKeyboard(keyEvent) {\n  var _this = this;\n\n  if (!this.enabled) {\n    return;\n  }\n\n  // Checking for window for preact prerender\n  if (typeof window === \"undefined\") {\n    return;\n  }\n\n  // Ignore the event if focus on a input-table field\n  // https://www.w3schools.com/tags/ref_byfunc.asp\n  if (keyEvent && keyEvent.target && keyEvent.target.tagName) {\n    var isTargetInputField = INPUT_HTML_TAGS.some(function (htmlTag) {\n      if (keyEvent && keyEvent.target.tagName.toLowerCase() === htmlTag.toLowerCase()) {\n        return true;\n      }\n      return false;\n    });\n\n    if (isTargetInputField) {\n      return;\n    }\n  }\n\n  // Get the new state of the key\n  var isPressed = false;\n  if (keyEvent.type === 'keydown') {\n    isPressed = true;\n  }\n\n  // Loop through our keys\n  this.keyMapKeys.forEach(function (key) {\n    _this.keyMap[key].KEYBOARD.forEach(function (keyInput, index) {\n      if (keyInput.KEY_CODE === keyEvent.keyCode) {\n        _this.keyMap[key].KEYBOARD[index].ACTIVE = isPressed;\n      }\n    });\n  });\n\n  // If we found a key, prevent default so page wont scroll and things\n  keyEvent.preventDefault();\n}\n\n// Functions to update keymap state\n// 'this' should be bound by the respective service\n\nfunction isButtonPressed(gamepad, buttonId) {\n  return gamepad.buttons[buttonId] ? gamepad.buttons[buttonId].pressed : false;\n}\n\nfunction getGamepads() {\n  // Similar to: https://github.com/torch2424/picoDeploy/blob/master/src/assets/3pLibs/pico8gamepad/pico8gamepad.js\n  // Gampad Diagram: https://w3c.github.io/gamepad/#remapping\n  return navigator.getGamepads ? navigator.getGamepads() : [];\n}\n\n// Helpers for accessing gamepad\n// Similar to: https://github.com/torch2424/picoDeploy/blob/master/src/assets/3pLibs/pico8gamepad/pico8gamepad.js\nfunction getAnalogStickAxis(gamepad, axisId) {\n  if (gamepad) {\n    return gamepad.axes[axisId] || 0.0;\n  }\n  return 0.0;\n}\n\n// Function to convert a set of analog booleans to an Axis Number\nfunction analogBooleanToAxis(positive, negative) {\n  if (positive) {\n    return 1.0;\n  }\n  if (negative) {\n    return -1.0;\n  }\n  return 0;\n}\n\n// Function to check the gamepad API for the gamepad state\nfunction updateGamepad() {\n  var _this = this;\n\n  var gamepads = getGamepads();\n\n  var _loop = function _loop(i) {\n\n    // Get our current gamepad\n    var gamepad = gamepads[i];\n\n    if (!gamepad) {\n      return \"continue\";\n    }\n\n    // Loop through our keys\n    _this.keyMapKeys.forEach(function (key) {\n      _this.keyMap[key].GAMEPAD.forEach(function (gamepadInput, index) {\n\n        // Check if we are a gamepad button\n        if (_this.keyMap[key].GAMEPAD[index].BUTTON_ID || _this.keyMap[key].GAMEPAD[index].BUTTON_ID === 0) {\n          _this.keyMap[key].GAMEPAD[index].ACTIVE = isButtonPressed(gamepad, _this.keyMap[key].GAMEPAD[index].BUTTON_ID);\n        }\n\n        // Check if we are an axis\n        if (_this.keyMap[key].GAMEPAD[index].JOYSTICK.AXIS_ID !== undefined && _this.keyMap[key].GAMEPAD[index].JOYSTICK.IS_POSITIVE !== undefined) {\n          if (_this.keyMap[key].GAMEPAD[index].JOYSTICK.IS_POSITIVE) {\n            _this.keyMap[key].GAMEPAD[index].ACTIVE = getAnalogStickAxis(gamepad, _this.keyMap[key].GAMEPAD[index].JOYSTICK.AXIS_ID) > +_this.gamepadAnalogStickDeadZone;\n          } else {\n            _this.keyMap[key].GAMEPAD[index].ACTIVE = getAnalogStickAxis(gamepad, _this.keyMap[key].GAMEPAD[index].JOYSTICK.AXIS_ID) < -_this.gamepadAnalogStickDeadZone;\n          }\n        }\n      });\n    });\n  };\n\n  for (var i = 0; i < gamepads.length; i++) {\n    var _ret = _loop(i);\n\n    if (_ret === \"continue\") continue;\n  }\n}\n\n// Functions to update keymap state\n// 'this' should be bound by the respective service\n\nvar dpadKeys = [RESPONSIVE_GAMEPAD_KEYS.DPAD_UP, RESPONSIVE_GAMEPAD_KEYS.DPAD_RIGHT, RESPONSIVE_GAMEPAD_KEYS.DPAD_DOWN, RESPONSIVE_GAMEPAD_KEYS.DPAD_LEFT];\n\n// Reset all Direction keys for a DPAD for touch Inputs\nfunction resetTouchDpad() {\n  var _this = this;\n\n  dpadKeys.forEach(function (dpadKey) {\n    _this.keyMap[dpadKey].TOUCHPAD.forEach(function (touchInput) {\n      touchInput.ACTIVE = false;\n    });\n  });\n}\n\n// Find a Dpad Touch element with Direction and ID\nfunction findDpadTouchInput(keyMap, id, direction) {\n  var foundTouchInput = void 0;\n\n  keyMap['DPAD_' + direction].TOUCHPAD.some(function (touchInput) {\n    if (touchInput.ID === id) {\n      foundTouchInput = touchInput;\n      return true;\n    }\n    return false;\n  });\n\n  return foundTouchInput;\n}\n\n// Function to set the axes of an analog to zero\nfunction resetTouchAnalog(touchInput, analogMap, additionalArguments) {\n  analogMap[additionalArguments[0] + '_ANALOG_HORIZONTAL_AXIS'] = 0.0;\n  analogMap[additionalArguments[0] + '_ANALOG_VERTICAL_AXIS'] = 0.0;\n  analogMap[additionalArguments[0] + '_ANALOG_UP'] = false;\n  analogMap[additionalArguments[0] + '_ANALOG_RIGHT'] = false;\n  analogMap[additionalArguments[0] + '_ANALOG_DOWN'] = false;\n  analogMap[additionalArguments[0] + '_ANALOG_LEFT'] = false;\n\n  touchInput.ELEMENT.style.transform = 'translate(0px, 0px)';\n}\n\n// Function to update touch button position and size\nfunction updateTouchInputRect(touchInput) {\n  // Read from the DOM, and get each of our elements position, doing this here, as it is best to read from the dom in sequence\n  // use element.getBoundingRect() top, bottom, left, right to get clientX and clientY in touch events :)\n  // https://stackoverflow.com/questions/442404/retrieve-the-position-x-y-of-an-html-element\n  var boundingRect = touchInput.ELEMENT.getBoundingClientRect();\n  touchInput.BOUNDING_RECT = boundingRect;\n}\n\n// Function called on an event of a touchInput SVG Element\nfunction updateTouchInput(touchInput, keyMap, analogMap, additionalArguments, event) {\n\n  if (!this.enabled) {\n    return;\n  }\n\n  if (!event || event.type.includes('touch') && !event.touches) return;\n\n  //event.stopPropagation();\n  event.preventDefault();\n\n  // Check if we still have our requirements\n  if (touchInput.TYPE === 'DPAD' && !keyMap || touchInput.TYPE === 'ANALOG' && !analogMap) {\n    return;\n  }\n\n  // Check for active event types\n  if (event.type === \"touchstart\" || event.type === \"touchmove\" || event.type === \"mousedown\" || event.type === \"mousemove\") {\n    // Active\n\n    if (event.type === \"mousemove\" && !touchInput.MOUSEDOWN) {\n      return;\n    }\n\n    if (event.type === \"mousedown\") {\n\n      touchInput.MOUSEDOWN = true;\n    }\n\n    // Button Type\n    if (touchInput.TYPE === 'BUTTON' && event.type !== \"mousemove\") {\n      touchInput.ACTIVE = true;\n      return;\n    }\n\n    // DIRECTIONAL\n    // We will need these  calculations for when if we are dpad or analog\n\n    // Calculate for the correct key\n    // Only using the first touch, since we shouldn't be having two fingers on the dpad\n    var touch = void 0;\n    if (event.type.includes('touch')) {\n      touch = event.touches[0];\n    } else if (event.type.includes('mouse')) {\n      touch = event;\n    }\n\n    // We will need these  calculations for when if we are dpad or analog\n    // Find our centers of our rectangles, and our unbiased X Y values on the rect\n    var rectCenterX = (touchInput.BOUNDING_RECT.right - touchInput.BOUNDING_RECT.left) / 2;\n    var rectCenterY = (touchInput.BOUNDING_RECT.bottom - touchInput.BOUNDING_RECT.top) / 2;\n    var touchX = touch.clientX - touchInput.BOUNDING_RECT.left;\n    var touchY = touch.clientY - touchInput.BOUNDING_RECT.top;\n\n    if (touchInput.TYPE === 'DPAD') {\n\n      // Find if the horizontal or vertical influence is greater\n      // Lesson From: picoDeploy\n      // Fix for shoot button causing the character to move right on multi touch error\n      // + 50 for some buffer\n      if (touchX > rectCenterX + touchInput.BOUNDING_RECT.width / 2 + 50) {\n        // Ignore the event\n        return;\n      }\n\n      // We forsure know we have input\n      // Reset previous DPAD State\n      resetTouchDpad.bind(this)();\n\n      // Create an additonal influece for horizontal, to make it feel better\n      var horizontalInfluence = touchInput.BOUNDING_RECT.width / 8;\n\n      // Determine if we are horizontal or vertical\n      var isHorizontal = Math.abs(rectCenterX - touchX) + horizontalInfluence > Math.abs(rectCenterY - touchY);\n\n      // Find if left or right from width, vice versa for height\n      if (isHorizontal) {\n        // Add a horizontal dead zone\n        var deadzoneSize = touchInput.BOUNDING_RECT.width / 20;\n        if (Math.abs(touchInput.BOUNDING_RECT.width / 2 - touchX) > deadzoneSize) {\n\n          var isLeft = touchX < touchInput.BOUNDING_RECT.width / 2;\n\n          if (isLeft) {\n            // Set DPAD_LEFT Touch Input Active\n            findDpadTouchInput(keyMap, touchInput.ID, 'LEFT').ACTIVE = true;\n          } else {\n            findDpadTouchInput(keyMap, touchInput.ID, 'RIGHT').ACTIVE = true;\n          }\n        }\n      } else {\n        var isUp = touchY < touchInput.BOUNDING_RECT.height / 2;\n        if (isUp) {\n          findDpadTouchInput(keyMap, touchInput.ID, 'UP').ACTIVE = true;\n        } else {\n          findDpadTouchInput(keyMap, touchInput.ID, 'DOWN').ACTIVE = true;\n        }\n      }\n    }\n\n    // Analog Type\n    if (touchInput.TYPE === 'ANALOG') {\n      // Find our Horizontal Axis\n      var horizontalDifferenceFromCenter = touchX - rectCenterX;\n      var horizontalAxis = horizontalDifferenceFromCenter / rectCenterX;\n      if (horizontalAxis > 1) {\n        horizontalAxis = 1.0;\n      } else if (horizontalAxis < -1) {\n        horizontalAxis = -1.0;\n      }\n\n      // Find our Vertical Axis\n      var verticalDifferenceFromCenter = touchY - rectCenterY;\n      var verticalAxis = verticalDifferenceFromCenter / rectCenterY;\n      if (verticalAxis > 1) {\n        verticalAxis = 1.0;\n      } else if (verticalAxis < -1) {\n        verticalAxis = -1.0;\n      }\n\n      // Apply styles to element\n      var translateX = rectCenterX * horizontalAxis / 2;\n      var translateY = rectCenterY * verticalAxis / 2;\n      touchInput.ELEMENT.style.transform = 'translate(' + translateX + 'px, ' + translateY + 'px)';\n\n      // Set Axis on keyMap\n      analogMap[additionalArguments[0] + '_ANALOG_HORIZONTAL_AXIS'] = horizontalAxis;\n      analogMap[additionalArguments[0] + '_ANALOG_VERTICAL_AXIS'] = verticalAxis;\n\n      // Set Analog Direction State\n      analogMap[additionalArguments[0] + '_ANALOG_UP'] = verticalAxis < 0;\n      analogMap[additionalArguments[0] + '_ANALOG_RIGHT'] = horizontalAxis > 0;\n      analogMap[additionalArguments[0] + '_ANALOG_DOWN'] = verticalAxis > 0;\n      analogMap[additionalArguments[0] + '_ANALOG_LEFT'] = horizontalAxis < 0;\n    }\n  } else {\n    // Not active\n\n    touchInput.MOUSEDOWN = false;\n\n    // Button Type\n    if (touchInput.TYPE === 'BUTTON') {\n      touchInput.ACTIVE = false;\n      return;\n    }\n\n    // Handle Dpad Type\n    if (touchInput.TYPE === 'DPAD') {\n      resetTouchDpad.bind(this)();\n      return;\n    }\n\n    if (touchInput.TYPE === 'ANALOG') {\n      resetTouchAnalog(touchInput, analogMap, additionalArguments);\n      return;\n    }\n  }\n}\n\nvar _Key;\n\n// Keyboard Codes\n// http://keycode.info/\n\nvar Key = (_Key = {\n\n  BACKSPACE: 8,\n  TAB: 9,\n  RETURN: 13,\n  SHIFT: 16,\n  CTRL: 17,\n  ALT: 18,\n  ESCAPE: 27,\n  SPACE: 32,\n  PAGE_UP: 33,\n  PAGE_DOWN: 34,\n  END: 35,\n  HOME: 36,\n  META: 91,\n\n  ARROW_LEFT: 37,\n  ARROW_UP: 38,\n  ARROW_RIGHT: 39,\n  ARROW_DOWN: 40,\n\n  W: 87,\n  A: 65,\n  S: 83,\n  D: 68,\n  Q: 81,\n  E: 69,\n  X: 88,\n  Z: 90,\n  C: 67,\n  V: 86,\n  I: 73,\n  K: 75,\n  J: 74,\n  L: 76\n}, defineProperty(_Key, \"Q\", 81), defineProperty(_Key, \"E\", 69), defineProperty(_Key, \"U\", 85), defineProperty(_Key, \"O\", 79), defineProperty(_Key, \"SEMI_COLON\", 186), defineProperty(_Key, \"SINGLE_QUOTE\", 222), defineProperty(_Key, \"BACK_SLASH\", 220), defineProperty(_Key, \"NUMPAD_0\", 96), defineProperty(_Key, \"NUMPAD_1\", 97), defineProperty(_Key, \"NUMPAD_2\", 98), defineProperty(_Key, \"NUMPAD_3\", 99), defineProperty(_Key, \"NUMPAD_4\", 100), defineProperty(_Key, \"NUMPAD_5\", 101), defineProperty(_Key, \"NUMPAD_6\", 102), defineProperty(_Key, \"NUMPAD_7\", 103), defineProperty(_Key, \"NUMPAD_8\", 104), defineProperty(_Key, \"NUMPAD_9\", 105), _Key);\n\n// The default keymap, is very specifc to the \"Standard Controller\"\n\nvar keymap = KeyMapSchema();\n\n// Dpad Up\nkeymap.DPAD_UP.KEYBOARD.push(getKeyInput(Key.ARROW_UP));\nkeymap.DPAD_UP.KEYBOARD.push(getKeyInput(Key.NUMPAD_8));\nkeymap.DPAD_UP.GAMEPAD.push(getGamepadInput(12));\n\n// Left Analog Up\nkeymap.LEFT_ANALOG_UP.KEYBOARD.push(getKeyInput(Key.W));\nkeymap.LEFT_ANALOG_UP.GAMEPAD.push(getGamepadInput(false, 1, false));\n\n// Right Analog Up\nkeymap.RIGHT_ANALOG_UP.KEYBOARD.push(getKeyInput(Key.I));\nkeymap.RIGHT_ANALOG_UP.GAMEPAD.push(getGamepadInput(false, 3, false));\n\n// Dpad Right\nkeymap.DPAD_RIGHT.KEYBOARD.push(getKeyInput(Key.ARROW_RIGHT));\nkeymap.DPAD_RIGHT.KEYBOARD.push(getKeyInput(Key.NUMPAD_6));\nkeymap.DPAD_RIGHT.GAMEPAD.push(getGamepadInput(15));\n\n// Left Analog Right\nkeymap.LEFT_ANALOG_RIGHT.KEYBOARD.push(getKeyInput(Key.D));\nkeymap.LEFT_ANALOG_RIGHT.GAMEPAD.push(getGamepadInput(false, 0, true));\n\n// Right Analog Right\nkeymap.RIGHT_ANALOG_RIGHT.KEYBOARD.push(getKeyInput(Key.L));\nkeymap.RIGHT_ANALOG_RIGHT.GAMEPAD.push(getGamepadInput(false, 2, true));\n\n// Dpad Down\nkeymap.DPAD_DOWN.KEYBOARD.push(getKeyInput(Key.ARROW_DOWN));\nkeymap.DPAD_DOWN.KEYBOARD.push(getKeyInput(Key.NUMPAD_5));\nkeymap.DPAD_DOWN.KEYBOARD.push(getKeyInput(Key.NUMPAD_2));\nkeymap.DPAD_DOWN.GAMEPAD.push(getGamepadInput(13));\n\n// Left Analog Down\nkeymap.LEFT_ANALOG_DOWN.KEYBOARD.push(getKeyInput(Key.S));\nkeymap.LEFT_ANALOG_DOWN.GAMEPAD.push(getGamepadInput(false, 1, true));\n\n// Right Analog Down\nkeymap.RIGHT_ANALOG_DOWN.KEYBOARD.push(getKeyInput(Key.K));\nkeymap.RIGHT_ANALOG_DOWN.GAMEPAD.push(getGamepadInput(false, 3, true));\n\n// Dpad Left\nkeymap.DPAD_LEFT.KEYBOARD.push(getKeyInput(Key.ARROW_LEFT));\nkeymap.DPAD_LEFT.KEYBOARD.push(getKeyInput(Key.NUMPAD_4));\nkeymap.DPAD_LEFT.GAMEPAD.push(getGamepadInput(14));\nkeymap.DPAD_LEFT.GAMEPAD.push(getGamepadInput(false, 0, false));\nkeymap.DPAD_LEFT.GAMEPAD.push(getGamepadInput(false, 2, false));\n\n// Left Analog Left\nkeymap.LEFT_ANALOG_LEFT.KEYBOARD.push(getKeyInput(Key.A));\nkeymap.LEFT_ANALOG_LEFT.GAMEPAD.push(getGamepadInput(false, 0, false));\n\n// Right Analog Left\nkeymap.RIGHT_ANALOG_LEFT.KEYBOARD.push(getKeyInput(Key.J));\nkeymap.RIGHT_ANALOG_LEFT.GAMEPAD.push(getGamepadInput(false, 2, false));\n\n// A\nkeymap.A.KEYBOARD.push(getKeyInput(Key.X));\nkeymap.A.KEYBOARD.push(getKeyInput(Key.SEMI_COLON));\nkeymap.A.KEYBOARD.push(getKeyInput(Key.NUMPAD_7));\nkeymap.A.GAMEPAD.push(getGamepadInput(0));\n\n// B\nkeymap.B.KEYBOARD.push(getKeyInput(Key.Z));\nkeymap.B.KEYBOARD.push(getKeyInput(Key.ESCAPE));\nkeymap.B.KEYBOARD.push(getKeyInput(Key.SINGLE_QUOTE));\nkeymap.B.KEYBOARD.push(getKeyInput(Key.BACKSPACE));\nkeymap.B.KEYBOARD.push(getKeyInput(Key.NUMPAD_9));\nkeymap.B.GAMEPAD.push(getGamepadInput(1));\n\n// X\nkeymap.X.KEYBOARD.push(getKeyInput(Key.C));\nkeymap.X.GAMEPAD.push(getGamepadInput(2));\n\n// Y\nkeymap.Y.KEYBOARD.push(getKeyInput(Key.V));\nkeymap.Y.GAMEPAD.push(getGamepadInput(3));\n\n// Left Trigger\nkeymap.LEFT_TRIGGER.KEYBOARD.push(getKeyInput(Key.Q));\nkeymap.LEFT_TRIGGER.GAMEPAD.push(getGamepadInput(6));\n\n// Left Bumper\nkeymap.LEFT_BUMPER.KEYBOARD.push(getKeyInput(Key.E));\nkeymap.LEFT_BUMPER.GAMEPAD.push(getGamepadInput(4));\n\n// Right Trigger\nkeymap.RIGHT_TRIGGER.KEYBOARD.push(getKeyInput(Key.U));\nkeymap.RIGHT_TRIGGER.GAMEPAD.push(getGamepadInput(7));\n\n// Right Bumper\nkeymap.RIGHT_BUMPER.KEYBOARD.push(getKeyInput(Key.O));\nkeymap.RIGHT_BUMPER.GAMEPAD.push(getGamepadInput(5));\n\n// Start\nkeymap.START.KEYBOARD.push(getKeyInput(Key.RETURN));\nkeymap.START.KEYBOARD.push(getKeyInput(Key.SPACE));\nkeymap.START.KEYBOARD.push(getKeyInput(Key.NUMPAD_3));\nkeymap.START.GAMEPAD.push(getGamepadInput(9));\n\n// Select\nkeymap.SELECT.KEYBOARD.push(getKeyInput(Key.SHIFT));\nkeymap.SELECT.KEYBOARD.push(getKeyInput(Key.TAB));\nkeymap.SELECT.KEYBOARD.push(getKeyInput(Key.BACK_SLASH));\nkeymap.SELECT.KEYBOARD.push(getKeyInput(Key.NUMPAD_1));\nkeymap.SELECT.GAMEPAD.push(getGamepadInput(8));\n\n// Special\nkeymap.SPECIAL.KEYBOARD.push(getKeyInput(Key.ALT));\nkeymap.SPECIAL.KEYBOARD.push(getKeyInput(Key.CTRL));\nkeymap.SPECIAL.KEYBOARD.push(getKeyInput(Key.META));\nkeymap.SELECT.GAMEPAD.push(getGamepadInput(16));\n\nvar KEYMAP = function KEYMAP() {\n  return JSON.parse(JSON.stringify(keymap));\n};\n\nvar keymap$1 = KEYMAP();\n\n// Simply Alias some of our buttons\n\n// Analog -> DPAD\nkeymap$1.DPAD_UP = mergeInputs(keymap$1.DPAD_UP, keymap$1.LEFT_ANALOG_UP, keymap$1.RIGHT_ANALOG_UP);\nkeymap$1.DPAD_RIGHT = mergeInputs(keymap$1.DPAD_RIGHT, keymap$1.LEFT_ANALOG_RIGHT, keymap$1.RIGHT_ANALOG_RIGHT);\nkeymap$1.DPAD_LEFT = mergeInputs(keymap$1.DPAD_LEFT, keymap$1.LEFT_ANALOG_LEFT, keymap$1.RIGHT_ANALOG_LEFT);\nkeymap$1.DPAD_DOWN = mergeInputs(keymap$1.DPAD_DOWN, keymap$1.LEFT_ANALOG_DOWN, keymap$1.RIGHT_ANALOG_DOWN);\n\n// X/Y -> A/B\nkeymap$1.A = mergeInputs(keymap$1.A, keymap$1.X);\nkeymap$1.B = mergeInputs(keymap$1.B, keymap$1.Y);\n\n// Triggers -> A\nkeymap$1.A = mergeInputs(keymap$1.A, keymap$1.LEFT_TRIGGER, keymap$1.RIGHT_TRIGGER);\n\n// Bumpers -> B\nkeymap$1.B = mergeInputs(keymap$1.B, keymap$1.LEFT_BUMPER, keymap$1.RIGHT_BUMPER);\n\nvar KEYMAP$1 = function KEYMAP$$1() {\n  return JSON.parse(JSON.stringify(keymap$1));\n};\n\nvar ResponsiveGamepadService = function () {\n  function ResponsiveGamepadService() {\n    classCallCheck(this, ResponsiveGamepadService);\n\n    // Our settings\n    this.gamepadAnalogStickDeadZone = 0.25;\n    this.keyMap = undefined;\n    this.keyMapKeys = undefined;\n    this.analogMaps = undefined;\n    this.enabled = false;\n    this.keyEventUnlistener = undefined;\n  }\n\n  createClass(ResponsiveGamepadService, [{\n    key: 'enable',\n    value: function enable(keyMap) {\n\n      if (this.enabled) {\n        console.error('Responsive Gamepad is already enabled');\n        return;\n      }\n\n      // TODO: Verify it is a valid keymap passed\n      this.keyMap = keyMap || KEYMAP();\n      this.keyMapKeys = Object.keys(this.keyMap);\n      this.analogMaps = {};\n\n      // Add our key event listeners\n      // Wrapping in this for preact prerender\n      if (typeof window !== \"undefined\") {\n\n        var updateKeyboardHandler = updateKeyboard.bind(this);\n\n        window.addEventListener('keyup', updateKeyboardHandler);\n        window.addEventListener('keydown', updateKeyboardHandler);\n\n        this.keyEventUnlistener = function () {\n          window.removeEventListener('keyup', updateKeyboardHandler);\n          window.removeEventListener('keydown', updateKeyboardHandler);\n        };\n      }\n\n      this.enabled = true;\n    }\n\n    // Disable responsive gamepad, and remove all the listeners\n\n  }, {\n    key: 'disable',\n    value: function disable() {\n      var _this = this;\n\n      // Dispose Key Events\n      if (this.keyEventUnlistener) {\n        this.keyEventUnlistener();\n        this.keyEventUnlistener = undefined;\n      }\n\n      // Dispose Touch Events\n      this.keyMapKeys.forEach(function (keyMapKey) {\n        _this.keyMap[keyMapKey].TOUCHPAD.forEach(function (input) {\n          input.UNLISTEN();\n        });\n      });\n      Object.keys(this.analogMaps).forEach(function (analogMapsKey) {\n        _this.analogMaps[analogMapsKey].TOUCH_INPUT.UNLISTEN();\n      });\n\n      // Dispose of the key map\n      this.keyMap = undefined;\n\n      this.enabled = false;\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return this.enabled;\n    }\n\n    // Function to return if we are ignoring input for key events\n\n  }, {\n    key: 'isIgnoringKeyEvents',\n    value: function isIgnoringKeyEvents$$1() {\n      return isIgnoringKeyEvents();\n    }\n  }, {\n    key: 'addTouchInput',\n    value: function addTouchInput(element, inputType) {\n\n      // Get any additional arguments\n      var originalArguments = [].concat(Array.prototype.slice.call(arguments));\n      var additionalArguments = [].concat(toConsumableArray(originalArguments.slice(2)));\n\n      // Declare our touch input\n      var touchInputId = createTouchInput(element, inputType, updateTouchInputRect.bind(this), updateTouchInput.bind(this), this.keyMap, this.analogMaps, additionalArguments);\n\n      // Return the touchInput ID so that is may be removed later\n      return touchInputId;\n    }\n  }, {\n    key: 'removeTouchInput',\n    value: function removeTouchInput(touchInputId) {\n      var _this2 = this;\n\n      // Search for the input in our touch pad for every key\n      var foundId = false;\n\n      this.keyMapKeys.forEach(function (keyMapKey) {\n        _this2.keyMap[keyMapKey].TOUCHPAD.forEach(function (input, index) {\n          if (input.ID === touchInputId) {\n            input.UNLISTEN();\n            _this2.keyMap[keyMapKey].TOUCHPAD.splice(index, 1);\n            foundId = true;\n          }\n        });\n      });\n\n      if (foundId) {\n        return foundId;\n      }\n\n      // Next, check the analog maps\n      Object.keys(this.analogMaps).forEach(function (analogMapsKey) {\n        if (analogMapsKey === touchInputId) {\n          _this2.analogMaps[analogMapsKey].TOUCH_INPUT.UNLISTEN();\n          delete _this2.analogMaps[analogMapsKey];\n          foundId = true;\n        }\n      });\n\n      return foundId;\n    }\n  }, {\n    key: 'getState',\n    value: function getState() {\n      var _this3 = this;\n\n      if (!this.enabled) {\n        return {};\n      }\n\n      // Keyboard handled by listeners on window\n\n      // Update the gamepad state\n      updateGamepad.bind(this)();\n\n      // Touch Handled by listeners on touchInputs\n\n      // Create an abstracted controller state\n      var controllerState = {};\n\n      // Loop through our Keys, and quickly build our controller state\n      Object.keys(this.keyMap).forEach(function (key) {\n\n        // Find if any of the keyboard, gamepad or touchpad buttons are pressed\n        var keyboardState = _this3.keyMap[key].KEYBOARD.some(function (keyInput) {\n          return keyInput.ACTIVE;\n        });\n\n        if (keyboardState) {\n          controllerState[key] = true;\n          return;\n        }\n\n        // Find if any of the keyboard, gamepad or touchpad buttons are pressed\n        var gamepadState = _this3.keyMap[key].GAMEPAD.some(function (gamepadInput) {\n          return gamepadInput.ACTIVE;\n        });\n\n        if (gamepadState) {\n          controllerState[key] = true;\n          return;\n        }\n\n        // Find if any of the keyboard, gamepad or touchpad buttons are pressed\n        var touchState = _this3.keyMap[key].TOUCHPAD.some(function (touchInput) {\n          return touchInput.ACTIVE;\n        });\n\n        if (touchState) {\n          controllerState[key] = touchState;\n          return;\n        }\n\n        controllerState[key] = false;\n      });\n\n      // Assign Truthy values from the analogMaps\n      Object.keys(this.analogMaps).forEach(function (analogMapsKey) {\n        Object.keys(_this3.analogMaps[analogMapsKey]).forEach(function (analogMapKey) {\n\n          // Skip the Touch Input on the analog Map\n          if (analogMapKey === 'TOUCH_INPUT') {\n            return;\n          }\n\n          var stateValue = _this3.analogMaps[analogMapsKey][analogMapKey];\n          if (stateValue) {\n            controllerState[analogMapKey] = stateValue;\n          }\n        });\n      });\n\n      // Get our Analog Stick Axis\n      // If not provided by touch pad\n      var gamepad = getGamepads()[0];\n      if (gamepad) {\n        controllerState.LEFT_ANALOG_HORIZONTAL_AXIS = getAnalogStickAxis(gamepad, 0);\n        controllerState.LEFT_ANALOG_VERTICAL_AXIS = getAnalogStickAxis(gamepad, 1);\n        controllerState.RIGHT_ANALOG_HORIZONTAL_AXIS = getAnalogStickAxis(gamepad, 2);\n        controllerState.RIGHT_ANALOG_VERTICAL_AXIS = getAnalogStickAxis(gamepad, 3);\n      } else {\n\n        if (!controllerState.LEFT_ANALOG_HORIZONTAL_AXIS) {\n          controllerState.LEFT_ANALOG_HORIZONTAL_AXIS = analogBooleanToAxis(controllerState.LEFT_ANALOG_RIGHT, controllerState.LEFT_ANALOG_LEFT);\n        }\n        if (!controllerState.LEFT_ANALOG_VERTICAL_AXIS) {\n          controllerState.LEFT_ANALOG_VERTICAL_AXIS = analogBooleanToAxis(controllerState.LEFT_ANALOG_DOWN, controllerState.LEFT_ANALOG_UP);\n        }\n\n        if (!controllerState.RIGHT_ANALOG_HORIZONTAL_AXIS) {\n          controllerState.RIGHT_ANALOG_HORIZONTAL_AXIS = analogBooleanToAxis(controllerState.RIGHT_ANALOG_RIGHT, controllerState.RIGHT_ANALOG_LEFT);\n        }\n\n        if (!controllerState.RIGHT_ANALOG_VERTICAL_AXIS) {\n          controllerState.RIGHT_ANALOG_VERTICAL_AXIS = analogBooleanToAxis(controllerState.RIGHT_ANALOG_DOWN, controllerState.RIGHT_ANALOG_UP);\n        }\n      }\n\n      // Alias some other values for convienence\n      controllerState.UP = controllerState.DPAD_UP || controllerState.LEFT_ANALOG_UP || false;\n      controllerState.RIGHT = controllerState.DPAD_RIGHT || controllerState.LEFT_ANALOG_RIGHT || false;\n      controllerState.DOWN = controllerState.DPAD_DOWN || controllerState.LEFT_ANALOG_DOWN || false;\n      controllerState.LEFT = controllerState.DPAD_LEFT || controllerState.LEFT_ANALOG_LEFT || false;\n\n      if (controllerState.UP && controllerState.DOWN) {\n        controllerState.UP = false;\n        controllerState.DOWN = false;\n      }\n\n      if (controllerState.RIGHT && controllerState.LEFT) {\n        controllerState.RIGHT = false;\n        controllerState.LEFT = false;\n      }\n\n      // Return the controller state in case we need something from it\n      return controllerState;\n    }\n  }]);\n  return ResponsiveGamepadService;\n}();\n\n// Exports\n\n\nvar ResponsiveGamepad = new ResponsiveGamepadService();\n\nexport { ResponsiveGamepad, KeyMapSchema, getKeyInput, getGamepadInput, createTouchInput, mergeInputs, RESPONSIVE_GAMEPAD_KEYS, TOUCH_INPUT_TYPES, KEYMAP, KEYMAP as KEYMAP_DEFAULT, KEYMAP$1 as KEYMAP_GAMEBOY };\n\n\n\n// WEBPACK FOOTER //\n// ./dist/responsive-gamepad.esm.js","import './style';\nimport { Component } from 'preact';\nimport { ResponsiveGamepad, RESPONSIVE_GAMEPAD_KEYS, KEYMAP_DEFAULT, KEYMAP_GAMEBOY } from './dist/responsive-gamepad.esm';\n\nexport default class App extends Component {\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t// Using componentDidMount to wait for the canvas element to be inserted in DOM\n\tcomponentDidMount() {\n\t\tthis.enableGamepad();\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.displayGamepadState();\n\t\t});\n\t}\n\n  displayGamepadState() {\n    const gamepadStateElement = document.getElementById(\"gamepadState\");\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tgamepadState: JSON.stringify(ResponsiveGamepad.getState(), null, 4)\n\t\t})\n\n    requestAnimationFrame(() => {\n      this.displayGamepadState();\n    });\n\t}\n\n\tenableGamepad(keymap) {\n\t\t// Initialize our gamepad\n\t\tResponsiveGamepad.enable(keymap);\n\n\t\t// Add our touch inputs\n    const dpadElement = document.getElementById('gamepadDpad');\n    const analogStickElement = document.getElementById('gamepadLeftAnalog')\n\t\tconst startElement = document.getElementById('gamepadStart');\n\t\tconst aElement = document.getElementById('gamepadA');\n\t\tconst bElement = document.getElementById('gamepadB');\n\n    ResponsiveGamepad.addTouchInput(dpadElement, 'DPAD');\n    ResponsiveGamepad.addTouchInput(analogStickElement, 'ANALOG', 'LEFT');\n    ResponsiveGamepad.addTouchInput(aElement, 'BUTTON', RESPONSIVE_GAMEPAD_KEYS.A);\n    ResponsiveGamepad.addTouchInput(bElement, 'BUTTON', RESPONSIVE_GAMEPAD_KEYS.B);\n    ResponsiveGamepad.addTouchInput(startElement, 'BUTTON', RESPONSIVE_GAMEPAD_KEYS.START);\n\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\ttouchSelectId: undefined\n\t\t});\n\t\tthis.toggleTouchSelectInput();\n  }\n\n  enableGameboyKeymap() {\n    this.enableGamepad(KEYMAP_GAMEBOY())\n  }\n\n\tdisableGamepad() {\n\t\tResponsiveGamepad.disable();\n\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\ttouchSelectId: undefined\n\t\t});\n\t}\n\n\ttoggleResponsiveGamepad() {\n\t\tif (ResponsiveGamepad.isEnabled()) {\n\t\t\tthis.disableGamepad();\n\t\t} else {\n\t\t\tthis.enableGamepad();\n\t\t}\n\t}\n\n\ttoggleTouchSelectInput() {\n\t\tif (this.state.touchSelectId) {\n      ResponsiveGamepad.removeTouchInput(this.state.touchSelectId);\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\ttouchSelectId: undefined\n\t\t\t});\n\t\t} else {\n\n\t\t\tconst selectElement = document.getElementById('gamepadSelect');\n      const touchSelectId = ResponsiveGamepad.addTouchInput(selectElement, 'BUTTON', RESPONSIVE_GAMEPAD_KEYS.SELECT,);\n\n\t\t\tthis.setState({\n\t\t\t\ttouchSelectId: touchSelectId\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Responsive Gamepad Demo</h1>\n\t\t\t\t<div class=\"githubLink\">\n\t\t\t\t\t<a href=\"https://github.com/torch2424/responsive-gamepad\" target=\"_blank\">Fork me on github</a>\n        </div>\n        <p>\n          This is the example demo for <a href=\"https://github.com/torch2424/responsive-gamepad\" target=\"_blank\">responsive-gamepad</a>.\n          Feel free to test this demo with:\n          <ul>\n            <li>Keyboard</li>\n            <li>Gamepad (Feel free to plug one into USB)</li>\n            <li>Touchpad (See the floating fixed element at the bottom of the screen)</li>\n          </ul>\n          Please scroll down to see the different features and examples the API provides, each with a color coded section.         \n        </p>\n\n\t\t\t\t<div class=\"gamepadState\">\n\t\t\t\t\t<h3>Responsive Gamepad State:</h3>\n\t\t\t\t\t<div>Enabled: {ResponsiveGamepad.isEnabled().toString()}</div>\n\t\t\t\t\t<div>Is Ignoring Keyboard Input from Focusing on Input Element: {ResponsiveGamepad.isIgnoringKeyEvents().toString()}</div>\n\t\t\t\t\t<pre id=\"gamepadState\">\n\t\t\t\t\t\t{this.state.gamepadState}\n\t\t\t\t\t</pre>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"addRemoveTouch\">\n          <h3>Enabled/Disable With Custom Keymaps</h3>\n\n\t\t\t\t\t<p>Responsive Gamepad can be enabled and disabled (as a whole) as needed</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={() => this.toggleResponsiveGamepad()} >\n\t\t\t\t\t\t\t{ResponsiveGamepad.isEnabled() ? `Disable Responsive Gamepad` : 'Enable Default Responsive Gamepad'}\n\t\t\t\t\t\t</button>\n          </div>\n\n          <p>\n            Custom Keymaps allow for altering which inputs represent which responsive-gamepad state key.\n            For instance, the \"gameboy\" keymap merges the X/Y buttons with the A/B buttons, and more!\n            You must disable the keymap to enable the gameboy keymap\n          </p>\n          <div>\n            <button onClick={() => this.enableGameboyKeymap()} disabled={ResponsiveGamepad.isEnabled()}>\n              Enable Gameboy Keymap\n            </button>\n          </div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"dynamicTouchInput\">\n\t\t\t\t\t<h3>Dynamic Touch Input</h3>\n\t\t\t\t\t<p>Touch inputs can be added/removed on the fly!</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={() => this.toggleTouchSelectInput()} disabled={!ResponsiveGamepad.isEnabled()}>\n\t\t\t\t\t\t\t{this.state.touchSelectId ? `Disable SELECT Touch Input (current Id: ${this.state.touchSelectId})` : 'Enable SELECT Touch Input'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"preventDefault\">\n\t\t\t\t\t<h3>Prevent Default (Keyboard Only)</h3>\n\t\t\t\t\t<p>I am very tall to show off `event.preventDefault()`. E.g arrow keys wont scroll if in the keymap. But typing will work on input type form fields!</p>\n\t\t\t\t\t<input type=\"text\" />\n\t\t\t\t\t<br />\n\t\t\t\t\t<textarea />\n\t\t\t\t\t<br />\n\t\t\t\t\t<button onClick={() => {console.log('I was the button your pressed a key on.')}}>Press space on me, and check your logs!</button>\n\t\t\t\t\t<br />\n\t\t\t\t\t<select>\n\t\t\t\t\t\t<option value=\"use\">use arrow keys once selected</option>\n\t\t\t\t\t\t<option value=\"arrow\">use arrow keys once selected</option>\n\t\t\t\t\t\t<option value=\"keys\">use arrow keys once selected</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n        <div class=\"gamepad\">\n\n          {/* Left Analog */}\n          <div class=\"analog-container\">\n\n            <svg id=\"gamepadLeftAnalog\" class=\"analog-stick\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle cx=\"12\" cy=\"12\" r=\"6\"/>\n            </svg>\n            <svg id=\"gamepadLeftAnalogBg\" class=\"analog-background\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n              <circle cx=\"12\" cy=\"12\" r=\"12\"/>\n            </svg>\n          </div>\n\n\n\t\t\t\t\t{/* DPAD */}\n\t\t\t\t\t<svg id=\"gamepadDpad\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n\t\t\t\t\t    <path d=\"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z\"/>\n            </svg>\n\n\t\t\t\t\t{/* Start */}\n\t\t\t\t\t<svg id=\"gamepadStart\" fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t    <path d=\"M19 13H5v-2h14v2z\"/>\n              <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n              <text x=\"5.5\" y=\"18.5\">Start</text>\n\t\t\t\t\t</svg>\n\n\t\t\t\t\t{/* Select */}\n\t\t\t\t\t<svg id=\"gamepadSelect\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t    <path d=\"M19 13H5v-2h14v2z\"/>\n              <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n              <text x=\"3.5\" y=\"18.5\">Select</text>\n\t\t\t\t\t</svg>\n\n\t\t\t\t\t{/* A */}\n\t\t\t\t\t<svg id=\"gamepadA\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n              <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n              <text x=\"9.75\" y=\"14\">A</text>\n\t\t\t\t\t</svg>\n\n\t\t\t\t\t{/* B */}\n\t\t\t\t\t<svg id=\"gamepadB\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/>\n              <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n              <text x=\"9.75\" y=\"14\">B</text>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","'use strict';\n\nvar _preact = require('preact');\n\nif (process.env.NODE_ENV === 'development') {\n\trequire('preact/devtools');\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator && location.protocol === 'https:') {\n\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw.js');\n}\n\nconst interopDefault = m => m && m.default ? m.default : m;\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root = document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\troot = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/preact-cli/lib/lib/entry.js"],"sourceRoot":""}